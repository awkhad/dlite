{
  "applicationModel": {
    "navbar": {
      "cid": "navbar",
      "type": "NavbarView",
      "brand": "",
      "defaultPage": "index",
      "navigationItems": [
        {
          "pageId": "index",
          "label": "My projects",
          "kind": "Page",
          "hidden": "=$d('myapps-storage')?.length === 0"
        },
        {
          "label": "Sample projects",
          "kind": "Page",
          "pageId": "samples",
          "hidden": null
        },
        {
          "label": "Create new project",
          "kind": "Page",
          "pageId": "create",
          "hidden": "=this.queryParam('hideNewProject')"
        },
        {
          "label": "Manage",
          "kind": "Page",
          "pageId": "manage",
          "hidden": true
        },
        {
          "label": "Edit",
          "kind": "Page",
          "pageId": "Edit",
          "hidden": true
        },
        {
          "label": "Share",
          "kind": "Page",
          "pageId": "share",
          "hidden": true
        },
        {
          "label": "Review",
          "kind": "Page",
          "pageId": "Review",
          "hidden": true
        },
        {
          "label": "Bundle",
          "kind": "Page",
          "pageId": "bundle",
          "hidden": true
        }
      ],
      "eventHandlers": [
        {
          "global": false,
          "name": "@route-changed",
          "actions": [
            {
              "targetId": "shared",
              "name": "selectApplication",
              "argument": "",
              "condition": "value?.name !== \"bundle\" && value?.name !== \"Review\""
            },
            {
              "targetId": "$tools",
              "name": "notifyParentApplication",
              "description": "",
              "argument": "'page-changed', $c(this).currentPage().pageId",
              "condition": ""
            }
          ],
          "stopIfConditionIsFalse": true
        }
      ],
      "layoutClass": "",
      "showSync": false,
      "showUser": false,
      "showResourceMonitoring": false,
      "hidden": "=!$c(this).queryParam('showNavBar') || $d('shared').previewApp"
    },
    "autoIncrementIds": {
      "LocalStorageConnector": 6,
      "InputView": 63,
      "ButtonView": 75,
      "ContainerView": 115,
      "TableView": 4,
      "DialogView": 7,
      "SplitView": 6,
      "CheckboxView": 13,
      "ApplicationView": 4,
      "CardView": 17,
      "TextView": 57,
      "PaginationView": 12,
      "IteratorView": 10,
      "ImageView": 8,
      "TextareaView": 9,
      "TabsView": 2,
      "SelectView": 5,
      "TagsView": 10,
      "IconView": 3,
      "CollapseView": 1
    },
    "name": "app-manager",
    "bootstrapStylesheetUrl": "assets/ext/themes/dlite.css",
    "darkMode": false,
    "versionIndex": 1,
    "version": "0.0.0"
  },
  "roots": [
    {
      "cid": "navbar",
      "type": "NavbarView",
      "brand": "",
      "defaultPage": "index",
      "navigationItems": [
        {
          "pageId": "index",
          "label": "My projects",
          "kind": "Page",
          "hidden": "=$d('myapps-storage')?.length === 0"
        },
        {
          "label": "Sample projects",
          "kind": "Page",
          "pageId": "samples",
          "hidden": null
        },
        {
          "label": "Create new project",
          "kind": "Page",
          "pageId": "create",
          "hidden": "=this.queryParam('hideNewProject')"
        },
        {
          "label": "Manage",
          "kind": "Page",
          "pageId": "manage",
          "hidden": true
        },
        {
          "label": "Edit",
          "kind": "Page",
          "pageId": "Edit",
          "hidden": true
        },
        {
          "label": "Share",
          "kind": "Page",
          "pageId": "share",
          "hidden": true
        },
        {
          "label": "Review",
          "kind": "Page",
          "pageId": "Review",
          "hidden": true
        },
        {
          "label": "Bundle",
          "kind": "Page",
          "pageId": "bundle",
          "hidden": true
        }
      ],
      "eventHandlers": [
        {
          "global": false,
          "name": "@route-changed",
          "actions": [
            {
              "targetId": "shared",
              "name": "selectApplication",
              "argument": "",
              "condition": "value?.name !== \"bundle\" && value?.name !== \"Review\""
            },
            {
              "targetId": "$tools",
              "name": "notifyParentApplication",
              "description": "",
              "argument": "'page-changed', $c(this).currentPage().pageId",
              "condition": ""
            }
          ],
          "stopIfConditionIsFalse": true
        }
      ],
      "layoutClass": "",
      "showSync": false,
      "showUser": false,
      "showResourceMonitoring": false,
      "hidden": "=!$c(this).queryParam('showNavBar') || $d('shared').previewApp"
    },
    {
      "cid": "shared",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "myapps-storage",
          "type": "LocalStorageConnector",
          "dataType": "array",
          "key": "dlite.myapps",
          "defaultValue": "=[]",
          "eventHandlers": [],
          "autoIds": true,
          "autoSync": true
        },
        {
          "cid": "myapps-versions-storage",
          "type": "LocalStorageConnector",
          "dataType": "array",
          "key": "=(['dlite.myapps.versions', $d('shared').appId])",
          "defaultValue": "=[]\n",
          "eventHandlers": [
            {
              "global": false,
              "name": "@data-model-changed",
              "actions": [
                {
                  "targetId": "$tools",
                  "name": "notifyParentApplication",
                  "description": "Trigger unselect",
                  "argument": "'app-selected'",
                  "condition": "!$d('shared').appId"
                },
                {
                  "targetId": "$tools",
                  "name": "notifyParentApplication",
                  "description": "Trigger select",
                  "argument": "'app-selected', $c('shared').currentApplication(), $d(this)[$d(this).length-1]",
                  "condition": "$d('shared').appId"
                }
              ]
            }
          ],
          "partitionKey": "id",
          "readOnlyShares": "",
          "autoSync": true,
          "autoIds": null
        },
        {
          "cid": "appstore-storage",
          "type": "LocalStorageConnector",
          "dataType": "array",
          "key": "dlite.appstore",
          "autoIds": true,
          "defaultValue": "=[]",
          "eventHandlers": [],
          "autoSync": true,
          "partitionKey": "id",
          "readOnlyShares": "[\"#app-store#cincheo.com\"]",
          "query": false,
          "shares": ""
        },
        {
          "cid": "appstore-tmp-storage",
          "type": "LocalStorageConnector",
          "dataType": "array",
          "key": "dlite.appstore.tmp",
          "autoIds": true,
          "defaultValue": "=[]",
          "eventHandlers": [],
          "autoSync": true,
          "partitionKey": "id",
          "readOnlyShares": "",
          "shares": "[\"#app-store-tmp#cincheo.com\"]",
          "query": null
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "init": "\n$collab.joinGroup('#app-store#cincheo.com');\n\nthis.define_action('publish', (appVersionId) => {\n    console.info('publishing', appVersionId, $d(this).appId);\n    const app = $d('myapps-storage')\n        .find(app => app.id === $d(this).appId);\n    const version = $d('myapps-versions-storage')\n        .find(version => version.id === appVersionId);\n    const publishedApp = {\n        id: appVersionId,\n        appId: app.id,\n        appVersion: version.version,\n        name: app.name,\n        description: app.description,\n        model: version.model,\n        tags: app.tags,\n        icon: app.icon\n    };\n    \n    $c('appstore-tmp-storage').addData(publishedApp);\n    console.info('published', publishedApp);\n    \n});\n\nthis.define_action('unpublish', (appVersionId) => {\n    console.info('unpublishing', appVersionId, $d(this).appId);\n    $c('appstore-tmp-storage').removeDataAt(\n        $d('appstore-tmp-storage').findIndex(app => app.id === appVersionId)\n    );\n});\n\nthis.define('publicationState', (appVersionId) => {\n    let app;\n    if ($d('appstore-storage').find(app => app.id === appVersionId)) {\n        return 'published';\n    } else if (app = $d('appstore-tmp-storage').find(app => app.id === appVersionId)) {\n        return app.status === 'rejected' ? 'rejected' : 'submitted';\n    } else {\n        return undefined;\n    }    \n    //return !!$d('appstore-tmp-storage').find(app => app.id === appVersionId)\n});\n\nthis.define('currentApplication', () => {\n    let currentApp = $d('myapps-storage').find(app => app.id === $d('shared').appId);\n    if (!currentApp) {\n        currentApp = $d('appstore-tmp-storage').find(app => app.id === $d('shared').appId);\n    }\n    if (!currentApp) {\n        currentApp = $d('appstore-storage').find(app => app.id === $d('shared').appId);        \n    }\n    return currentApp;\n});\n\nthis.define_action('selectApplication', (appId) => {\n    if (appId) {\n        $c('shared').setFieldData('appId', appId);\n        $tools.notifyParentApplication('app-selected', $c('shared').currentApplication(), $d('myapps-versions-storage').at(-1));\n    } else {\n        $c('shared').setFieldData('appId', undefined);\n        $tools.notifyParentApplication('app-selected');\n    }\n});\n\nthis.define_action('selectVersion', (version) => {\n    $c('shared').selectApplication(version.appId);\n    $c('shared').setFieldData('version', version);\n    $tools.notifyParentApplication('app-selected', $c('shared').currentApplication(), version);\n});\n\nthis.define('isLatestVersion', () => {\n    return $d('myapps-versions-storage').at(-1)?.id === $d('shared').version?.id\n});\n\nthis.define('previousVersion', () => {\n    return $d('myapps-versions-storage')[\n        $d('myapps-versions-storage')\n            .findIndex(version => version.id === $d('shared').version.id) - 1\n    ];\n});\n\nthis.define('nextVersion', () => {\n    return $d('myapps-versions-storage')[\n        $d('myapps-versions-storage')\n            .findIndex(version => version.id === $d('shared').version.id) + 1\n    ];\n});\n\nthis.define('appReviewStatusBadge', (app) => {\n    return `\n<span class=\"badge badge-${app.status === 'rejected' ? 'danger' : (app.status === 'published' ? 'success' : 'warning') }\">\n    ${app.status === 'rejected' ? 'Rejected' : (app.status === 'published' ? 'Published' : 'To review') }\n</span>\n`;\n})",
      "hidden": null,
      "fillHeight": null
    },
    {
      "cid": "index",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "container-4",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "split-0",
              "type": "SplitView",
              "orientation": "VERTICAL",
              "primaryComponentSize": 50,
              "secondaryComponentSize": 50,
              "primaryComponent": {
                "cid": "container-3",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "container-10",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "button-4",
                        "type": "ButtonView",
                        "dataSource": "$parent",
                        "label": "Create",
                        "buttonType": "button",
                        "eventHandlers": [
                          {
                            "global": false,
                            "name": "@click",
                            "actions": [
                              {
                                "targetId": "dialog-1",
                                "name": "show",
                                "description": "Open create dialog",
                                "argument": ""
                              }
                            ]
                          }
                        ],
                        "block": true,
                        "variant": "primary",
                        "icon": "plus",
                        "size": "sm",
                        "pill": true,
                        "hidden": "=parameters.get('mode') === 'open'"
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "direction": "row",
                    "disableContainerPadding": true,
                    "justify": "space-between",
                    "fillHeight": null
                  },
                  {
                    "cid": "pagination-2",
                    "type": "PaginationView",
                    "dataSource": "iterator-0",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@input",
                        "actions": [
                          {
                            "targetId": "iterator-0",
                            "name": "setCurrentPage",
                            "description": "Set page",
                            "argument": "value"
                          },
                          {
                            "targetId": "shared",
                            "name": "setFieldData",
                            "argument": "'currentPage', value"
                          }
                        ]
                      }
                    ],
                    "align": "center",
                    "size": "sm",
                    "pills": true,
                    "disabled": null,
                    "perPage": "10",
                    "initialPage": "=$d('shared').currentPage",
                    "hidden": null
                  },
                  {
                    "cid": "app-search-input",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Filter:",
                    "inputType": "search",
                    "description": "",
                    "field": "",
                    "size": "sm",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "horizontalLayout": true
                  },
                  {
                    "cid": "iterator-0",
                    "type": "IteratorView",
                    "dataType": "array",
                    "defaultValue": "=[]",
                    "body": {
                      "cid": "card-2",
                      "type": "CardView",
                      "title": "",
                      "subTitle": "",
                      "imgSrc": "=if ($d(this).icon)\n    return $d(this).icon \n    else return basePath + 'assets/app-icons/no_image.png'\n",
                      "imgPosition": "top",
                      "imgWidth": "",
                      "imgHeight": "",
                      "text": "",
                      "headerEnabled": true,
                      "header": {
                        "cid": "container-12",
                        "type": "ContainerView",
                        "dataType": "object",
                        "layout": "block",
                        "components": [
                          {
                            "cid": "text-2",
                            "type": "TextView",
                            "dataType": "string",
                            "tag": "div",
                            "text": "",
                            "eventHandlers": [],
                            "dataSource": "$parent",
                            "field": "name"
                          },
                          {
                            "cid": "container-13",
                            "type": "ContainerView",
                            "dataType": "object",
                            "layout": "block",
                            "components": [],
                            "defaultValue": "={}",
                            "eventHandlers": [],
                            "direction": "row",
                            "hidden": null,
                            "disableContainerPadding": true,
                            "dataSource": "$parent",
                            "columnGap": "0.2rem"
                          }
                        ],
                        "defaultValue": "={}",
                        "eventHandlers": [],
                        "direction": "row",
                        "justify": "space-between",
                        "dataSource": "$parent",
                        "disableContainerPadding": true
                      },
                      "body": {
                        "cid": "container-111",
                        "type": "ContainerView",
                        "dataType": "object",
                        "layout": "block",
                        "components": [
                          {
                            "cid": "iterator-9",
                            "type": "IteratorView",
                            "dataType": "array",
                            "defaultValue": "=[]",
                            "body": {
                              "cid": "text-56",
                              "type": "TextView",
                              "dataType": "string",
                              "tag": "div",
                              "text": "=`<span class=\"badge badge-secondary badge-pill\">${$d(this)}</span>`",
                              "eventHandlers": [],
                              "dataSource": "$parent"
                            },
                            "eventHandlers": [],
                            "direction": "row",
                            "dataSource": "$parent",
                            "field": "tags",
                            "columnGap": "0.2rem",
                            "layoutClass": "mb-1"
                          },
                          {
                            "cid": "text-54",
                            "type": "TextView",
                            "dataType": "string",
                            "tag": "div",
                            "text": "",
                            "eventHandlers": [],
                            "dataSource": "$parent",
                            "field": "description"
                          }
                        ],
                        "defaultValue": "={}",
                        "eventHandlers": [],
                        "dataSource": "$parent",
                        "disableContainerPadding": true
                      },
                      "footer": {},
                      "eventHandlers": [
                        {
                          "global": false,
                          "name": "@click",
                          "actions": [
                            {
                              "targetId": "shared",
                              "name": "selectApplication",
                              "description": "Select",
                              "argument": "$d(this).id === $d('shared').appId ? undefined : $d(this).id",
                              "condition": ""
                            }
                          ]
                        }
                      ],
                      "dataSource": "$parent",
                      "layoutStyle": "width: 15rem",
                      "bgVariant": "=if ($d('shared').appId === $d(this).id) \n    return 'primary' \n    else return ''",
                      "borderVariant": "=$d('shared').appId === $d(this).id ? \n    'primary' : ''",
                      "class": "=$d('shared').appId === $d(this).id ? \n    'border-3' : ''",
                      "style": "cursor: pointer ",
                      "hidden": null,
                      "fillHeight": null,
                      "textVariant": "=if ($d('shared').appId === $d(this).id) \n    return 'light' \n    else return ''"
                    },
                    "eventHandlers": [],
                    "dataSource": "=$d(`myapps-storage`)\n    .filter(app => \n        !$d('app-search-input') \n        || app.name.includes($d('app-search-input'))\n    )",
                    "disableContainerPadding": true,
                    "wrap": "wrap",
                    "direction": "row",
                    "rowGap": "1rem",
                    "columnGap": "1rem",
                    "perPage": "10",
                    "justify": "center",
                    "fillHeight": null
                  }
                ],
                "defaultValue": "={}",
                "eventHandlers": [],
                "class": "py-3",
                "fillHeight": true,
                "disableContainerPadding": null,
                "layoutKind": "container",
                "hidden": null,
                "layoutClass": ""
              },
              "secondaryComponent": {
                "cid": "current-application-container",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "container-15",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "text-4",
                        "type": "TextView",
                        "tag": "div",
                        "text": "No projects selected.",
                        "eventHandlers": [],
                        "dataSource": "$parent"
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "hidden": "=!!$d(this).id",
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "container-16",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "container-18",
                        "type": "ContainerView",
                        "dataType": "object",
                        "layout": "block",
                        "components": [
                          {
                            "cid": "input-1",
                            "type": "TextView",
                            "dataType": "string",
                            "label": "Name",
                            "inputType": "text",
                            "description": "",
                            "field": "name",
                            "size": "default",
                            "disabled": true,
                            "placeholder": "",
                            "eventHandlers": [],
                            "dataSource": "$parent",
                            "tag": "h3",
                            "hidden": null
                          },
                          {
                            "cid": "container-19",
                            "type": "ContainerView",
                            "dataType": "object",
                            "layout": "block",
                            "components": [
                              {
                                "cid": "button-19",
                                "type": "ButtonView",
                                "dataSource": "$parent",
                                "label": "",
                                "buttonType": "button",
                                "eventHandlers": [
                                  {
                                    "global": false,
                                    "name": "@click",
                                    "actions": [
                                      {
                                        "targetId": "dialog-0",
                                        "name": "show",
                                        "description": "Open update dialog",
                                        "argument": "",
                                        "condition": ""
                                      },
                                      {
                                        "targetId": "container-1",
                                        "name": "setData",
                                        "argument": "$d(this)",
                                        "description": "Fill dialog container"
                                      }
                                    ],
                                    "stopIfConditionIsFalse": null
                                  }
                                ],
                                "block": true,
                                "hidden": false,
                                "disabled": false,
                                "icon": "pencil",
                                "size": "sm",
                                "layoutClass": "text-center",
                                "variant": "secondary",
                                "pill": true
                              },
                              {
                                "cid": "button-16",
                                "type": "ButtonView",
                                "dataSource": "$parent",
                                "label": "",
                                "buttonType": "button",
                                "eventHandlers": [
                                  {
                                    "global": false,
                                    "name": "@click",
                                    "actions": [
                                      {
                                        "targetId": "myapps-storage",
                                        "name": "removeData",
                                        "description": "Delete from collection",
                                        "condition": "confirm(`Are you sure you want to remove the '${$d(this).name}' application?`)",
                                        "argument": "$d(this)"
                                      }
                                    ]
                                  }
                                ],
                                "block": true,
                                "variant": "danger",
                                "icon": "trash",
                                "disabled": false,
                                "hidden": false,
                                "size": "sm",
                                "pill": null,
                                "layoutClass": "text-center"
                              }
                            ],
                            "defaultValue": "={}",
                            "dataSource": "$parent",
                            "eventHandlers": [],
                            "direction": "row",
                            "hidden": "=parameters.get('mode') === 'open'",
                            "rowGap": "",
                            "columnGap": "0.2rem"
                          }
                        ],
                        "defaultValue": "={}",
                        "eventHandlers": [],
                        "direction": "row",
                        "disableContainerPadding": true,
                        "hidden": null,
                        "justify": "space-between",
                        "dataSource": "$parent"
                      },
                      {
                        "cid": "input-0",
                        "type": "TextView",
                        "dataType": "string",
                        "label": "Id",
                        "inputType": "text",
                        "description": "",
                        "field": "id",
                        "size": "default",
                        "disabled": true,
                        "placeholder": "",
                        "eventHandlers": [],
                        "dataSource": "$parent",
                        "text": "=`Id: ${$d(this)}`"
                      },
                      {
                        "cid": "input-2",
                        "type": "TextView",
                        "dataType": "string",
                        "label": "Description",
                        "inputType": "text",
                        "description": "",
                        "field": "description",
                        "size": "default",
                        "disabled": true,
                        "placeholder": "",
                        "eventHandlers": [],
                        "dataSource": "$parent"
                      },
                      {
                        "cid": "card-0",
                        "type": "CardView",
                        "title": "",
                        "subTitle": "",
                        "imgSrc": "",
                        "imgPosition": "top",
                        "imgWidth": "",
                        "imgHeight": "",
                        "text": "",
                        "headerEnabled": true,
                        "header": {
                          "cid": "container-9",
                          "type": "ContainerView",
                          "dataType": "object",
                          "layout": "block",
                          "components": [
                            {
                              "cid": "text-0",
                              "type": "TextView",
                              "dataType": "string",
                              "tag": "h3",
                              "text": "Versions",
                              "eventHandlers": []
                            },
                            {
                              "cid": "button-13",
                              "type": "ButtonView",
                              "dataSource": "$parent",
                              "label": "Create",
                              "buttonType": "button",
                              "eventHandlers": [
                                {
                                  "global": false,
                                  "name": "@click",
                                  "actions": [
                                    {
                                      "targetId": "dialog-3",
                                      "name": "show",
                                      "description": "Open create dialog",
                                      "argument": ""
                                    }
                                  ]
                                }
                              ],
                              "block": true,
                              "variant": "primary",
                              "icon": "plus",
                              "pill": true,
                              "size": "sm",
                              "disabled": "=!$d('myapps-versions-storage').at(-1)?.model"
                            }
                          ],
                          "defaultValue": "={}",
                          "eventHandlers": [],
                          "disableContainerPadding": true,
                          "direction": "row",
                          "justify": "space-between"
                        },
                        "body": {
                          "cid": "container-7",
                          "type": "ContainerView",
                          "dataType": "object",
                          "layout": "block",
                          "components": [
                            {
                              "cid": "pagination-0",
                              "type": "PaginationView",
                              "dataSource": "table-versions",
                              "eventHandlers": [],
                              "align": "center",
                              "size": "sm",
                              "pills": true,
                              "disabled": null
                            },
                            {
                              "cid": "version-search-input",
                              "type": "InputView",
                              "dataType": "string",
                              "label": "Filter:",
                              "inputType": "search",
                              "description": "",
                              "field": "",
                              "size": "sm",
                              "disabled": false,
                              "placeholder": "",
                              "eventHandlers": [],
                              "horizontalLayout": true
                            },
                            {
                              "cid": "table-versions",
                              "type": "TableView",
                              "dataType": "array",
                              "fields": [
                                {
                                  "key": "version",
                                  "label": "Version"
                                },
                                {
                                  "key": "description",
                                  "label": "Description",
                                  "thStyle": "width: 80%"
                                },
                                {
                                  "key": "published",
                                  "label": "Published",
                                  "customComponent": true,
                                  "hidden": true
                                },
                                {
                                  "key": "buttons",
                                  "label": "",
                                  "customComponent": true,
                                  "thStyle": "width: 3rem"
                                }
                              ],
                              "defaultValue": "=([\n        {x: \"a\", data1: 30, data2: 4}, \n        {x: \"b\", data1: 37, data2: 12},\n        {x: \"c\", data1: 22, data2: 8}\n])",
                              "eventHandlers": [
                                {
                                  "global": false,
                                  "name": "@item-selected",
                                  "actions": [
                                    {
                                      "targetId": "shared",
                                      "name": "selectVersion",
                                      "argument": "value"
                                    }
                                  ]
                                }
                              ],
                              "selectMode": "single",
                              "dataSource": "myapps-versions-storage",
                              "customComponent_published": {
                                "cid": "container-20",
                                "type": "ContainerView",
                                "dataType": "array",
                                "layout": "block",
                                "components": [
                                  {
                                    "cid": "checkbox-2",
                                    "type": "CheckboxView",
                                    "dataType": "boolean",
                                    "label": "",
                                    "size": "default",
                                    "description": "",
                                    "disabled": "=!$d(parent).model || parameters.get('mode') === 'open'",
                                    "switch": true,
                                    "eventHandlers": [
                                      {
                                        "global": false,
                                        "name": "@change",
                                        "actions": [
                                          {
                                            "targetId": "shared",
                                            "name": "publish",
                                            "description": "Publish",
                                            "argument": "$d(this.getParent()).id, console.info('>>', this.getParent())",
                                            "condition": "value && confirm('Publish application to the APP Store? Everyone will be able to use it.')"
                                          },
                                          {
                                            "targetId": "shared",
                                            "name": "unpublish",
                                            "description": "Unpublish",
                                            "argument": "$d(parent).id",
                                            "condition": "!value && confirm('Remove application from the APP Store? Everyone will loose access to this application version.')"
                                          },
                                          {
                                            "targetId": "$self",
                                            "name": "forceRender",
                                            "description": "",
                                            "argument": "",
                                            "condition": ""
                                          }
                                        ]
                                      }
                                    ],
                                    "dataSource": "=!!$d('appstore-storage')\n    .find(app => app.id === $d(parent).id)",
                                    "hidden": null
                                  }
                                ],
                                "defaultValue": "={}",
                                "dataSource": "$parent",
                                "eventHandlers": [],
                                "direction": "row",
                                "layoutKind": "no-padding",
                                "class": ""
                              },
                              "filter": "$d('version-search-input')",
                              "customComponent_buttons": {
                                "cid": "container-17",
                                "type": "ContainerView",
                                "dataType": "object",
                                "layout": "block",
                                "components": [
                                  {
                                    "cid": "button-14",
                                    "type": "ButtonView",
                                    "dataSource": "$parent",
                                    "label": "",
                                    "buttonType": "button",
                                    "eventHandlers": [
                                      {
                                        "global": false,
                                        "name": "@click",
                                        "actions": [
                                          {
                                            "targetId": "myapps-versions-storage",
                                            "name": "removeDataAt",
                                            "description": "Delete from collection",
                                            "condition": "",
                                            "argument": "$d(target).findIndex(data => data.id === $d(this).id)"
                                          }
                                        ]
                                      }
                                    ],
                                    "block": false,
                                    "variant": "danger",
                                    "icon": "trash",
                                    "disabled": "=!!$c('shared').publicationState($d(this).id)",
                                    "size": "sm",
                                    "hidden": "=parameters.get('mode') === 'open'"
                                  },
                                  {
                                    "cid": "button-11",
                                    "type": "ButtonView",
                                    "dataSource": "$parent",
                                    "label": "",
                                    "buttonType": "button",
                                    "eventHandlers": [
                                      {
                                        "global": false,
                                        "name": "@click",
                                        "actions": [
                                          {
                                            "targetId": "dialog-2",
                                            "name": "show",
                                            "description": "Open update dialog",
                                            "argument": "$d(this)"
                                          }
                                        ]
                                      }
                                    ],
                                    "block": false,
                                    "disabled": false,
                                    "icon": "pencil",
                                    "size": "sm",
                                    "class": "",
                                    "layoutClass": "text-center",
                                    "hidden": "=parameters.get('mode') === 'open'"
                                  },
                                  {
                                    "cid": "button-15",
                                    "type": "ButtonView",
                                    "dataSource": "$parent",
                                    "label": "",
                                    "buttonType": "button",
                                    "eventHandlers": [
                                      {
                                        "global": false,
                                        "name": "@click",
                                        "actions": [
                                          {
                                            "targetId": "shared",
                                            "name": "setFieldData",
                                            "description": "Set current version",
                                            "argument": "'version', $d(this)"
                                          },
                                          {
                                            "targetId": "shared",
                                            "name": "setFieldData",
                                            "description": "Go to app",
                                            "argument": "'previewApp', true "
                                          },
                                          {
                                            "targetId": "preview-application-frame",
                                            "name": "forceRender",
                                            "argument": ""
                                          }
                                        ]
                                      }
                                    ],
                                    "variant": "primary",
                                    "size": "sm",
                                    "pill": false,
                                    "icon": "play",
                                    "layoutClass": "text-center",
                                    "hidden": null,
                                    "disabled": false
                                  }
                                ],
                                "defaultValue": "={}",
                                "eventHandlers": [],
                                "dataSource": "$parent",
                                "disableContainerPadding": true,
                                "direction": "row",
                                "columnGap": "0.2rem",
                                "layoutKind": "no-padding"
                              },
                              "hidden": null,
                              "notSelectable": false
                            }
                          ],
                          "defaultValue": "={}",
                          "eventHandlers": [],
                          "class": "=this.screenWidth <= 800 ? 'p-0' : ''",
                          "disableContainerPadding": true
                        },
                        "footer": {},
                        "eventHandlers": [],
                        "layoutClass": "mt-2",
                        "fillHeight": null,
                        "hidden": null
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "hidden": "=!$d(this).id",
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "container-8",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "dialog-2",
                        "type": "DialogView",
                        "title": "Update",
                        "content": {
                          "cid": "container-5",
                          "type": "ContainerView",
                          "dataType": "object",
                          "layout": "block",
                          "components": [
                            {
                              "cid": "input-16",
                              "type": "InputView",
                              "dataType": "string",
                              "label": "Version",
                              "inputType": "text",
                              "description": "",
                              "field": "version",
                              "size": "default",
                              "disabled": true,
                              "placeholder": "",
                              "eventHandlers": [],
                              "dataSource": "$parent"
                            },
                            {
                              "cid": "input-10",
                              "type": "InputView",
                              "dataType": "string",
                              "label": "Description",
                              "inputType": "text",
                              "description": "",
                              "field": "description",
                              "size": "default",
                              "disabled": false,
                              "placeholder": "",
                              "eventHandlers": [],
                              "dataSource": "$parent"
                            },
                            {
                              "cid": "checkbox-0",
                              "type": "CheckboxView",
                              "dataType": "boolean",
                              "label": "Published",
                              "size": "default",
                              "description": "",
                              "field": "published",
                              "disabled": false,
                              "switch": true,
                              "eventHandlers": [],
                              "dataSource": "$parent",
                              "hidden": false
                            },
                            {
                              "cid": "button-10",
                              "type": "ButtonView",
                              "dataSource": "$parent",
                              "label": "Update",
                              "buttonType": "button",
                              "eventHandlers": [
                                {
                                  "global": false,
                                  "name": "@click",
                                  "actions": [
                                    {
                                      "targetId": "$self",
                                      "name": "eval",
                                      "description": "Default action"
                                    },
                                    {
                                      "targetId": "myapps-versions-storage",
                                      "name": "replaceDataAt",
                                      "description": "Update collection content",
                                      "condition": "$c('table-1').selectedItem",
                                      "argument": "$d(parent), $d('table-1').indexOf($c('table-1').selectedItem)"
                                    },
                                    {
                                      "targetId": "dialog-2",
                                      "name": "hide",
                                      "description": "Close dialog"
                                    }
                                  ]
                                }
                              ],
                              "block": true,
                              "variant": "primary",
                              "icon": "check"
                            }
                          ],
                          "defaultValue": "={}",
                          "eventHandlers": [],
                          "dataSource": "$parent",
                          "hidden": null
                        },
                        "eventHandlers": [],
                        "size": "xl",
                        "hidden": null
                      },
                      {
                        "cid": "dialog-3",
                        "type": "DialogView",
                        "title": "Create",
                        "content": {
                          "cid": "container-6",
                          "type": "ContainerView",
                          "dataType": "object",
                          "layout": "block",
                          "components": [
                            {
                              "cid": "input-11",
                              "type": "InputView",
                              "dataType": "string",
                              "label": "Version",
                              "inputType": "text",
                              "description": "",
                              "field": "version",
                              "size": "default",
                              "disabled": false,
                              "placeholder": "",
                              "eventHandlers": [],
                              "dataSource": "$parent",
                              "defaultValue": "=let lastVersion = $d('myapps-versions-storage')[$d('myapps-versions-storage').length - 1].version;\nlastVersion = lastVersion.split('.');\nlastVersion[lastVersion.length - 1] = parseInt(lastVersion[lastVersion.length - 1]) + 1;\nreturn lastVersion.join('.');"
                            },
                            {
                              "cid": "input-12",
                              "type": "InputView",
                              "dataType": "string",
                              "label": "Description",
                              "inputType": "text",
                              "description": "",
                              "field": "description",
                              "size": "default",
                              "disabled": false,
                              "placeholder": "",
                              "eventHandlers": [],
                              "dataSource": "$parent"
                            },
                            {
                              "cid": "button-12",
                              "type": "ButtonView",
                              "dataSource": "$parent",
                              "label": "Create",
                              "buttonType": "button",
                              "eventHandlers": [
                                {
                                  "global": false,
                                  "name": "@click",
                                  "actions": [
                                    {
                                      "targetId": "myapps-versions-storage",
                                      "name": "eval",
                                      "description": "Add ID",
                                      "condition": "",
                                      "argument": "$d(this).id = $d('shared').appId + '-' + $d(this).version"
                                    },
                                    {
                                      "targetId": "$self",
                                      "name": "eval",
                                      "description": "Add model",
                                      "argument": "$d(this).model = $d('myapps-versions-storage')[$d('myapps-versions-storage').length - 1].model"
                                    },
                                    {
                                      "targetId": "myapps-versions-storage",
                                      "name": "addData",
                                      "description": "Update collection content",
                                      "argument": "$d(parent)",
                                      "condition": ""
                                    },
                                    {
                                      "targetId": "dialog-3",
                                      "name": "hide",
                                      "description": "Close dialog"
                                    }
                                  ]
                                }
                              ],
                              "block": true,
                              "variant": "primary",
                              "icon": "plus"
                            }
                          ],
                          "defaultValue": "={}",
                          "eventHandlers": [],
                          "dataSource": "$object"
                        },
                        "eventHandlers": [],
                        "size": "xl"
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": []
                  }
                ],
                "defaultValue": "={}",
                "eventHandlers": [],
                "hidden": false,
                "dataSource": "=$d('myapps-storage')\n    .find(app => app.id === $d('shared').appId)",
                "fillHeight": null,
                "layoutKind": "container",
                "class": "py-3"
              },
              "eventHandlers": [],
              "class": "=this.screenWidth <= 800 ? 'p-0' : ''",
              "resizableSplit": true,
              "fillHeight": true,
              "gutterSize": "5",
              "hidden": "=!!$d('shared').previewApp"
            },
            {
              "cid": "dialog-0",
              "type": "DialogView",
              "title": "Update project",
              "content": {
                "cid": "container-1",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "input-3",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Id",
                    "inputType": "text",
                    "description": "",
                    "field": "id",
                    "size": "default",
                    "disabled": true,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "input-4",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Name",
                    "inputType": "text",
                    "description": "",
                    "field": "name",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "input-5",
                    "type": "TextareaView",
                    "dataType": "string",
                    "label": "Description",
                    "inputType": "text",
                    "description": "",
                    "field": "description",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "tags-5",
                    "type": "TagsView",
                    "dataType": "array",
                    "size": "default",
                    "eventHandlers": [],
                    "label": "Tags",
                    "dataSource": "$parent",
                    "field": "tags"
                  },
                  {
                    "cid": "image-0",
                    "type": "ImageView",
                    "src": "=$d(this)?.icon",
                    "blank": false,
                    "display": "default",
                    "layoutClass": "text-center",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "field": "",
                    "style": "width: 15rem",
                    "hidden": null
                  },
                  {
                    "cid": "button-20",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Upload icon...",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "$tools",
                            "name": "upload",
                            "description": "Default action",
                            "argument": "img => $set($d(this), 'icon', img), 'image', 300 * 1024"
                          }
                        ]
                      }
                    ],
                    "layoutClass": "text-center m-2",
                    "icon": "upload"
                  },
                  {
                    "cid": "button-1",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Update project",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "myapps-storage",
                            "name": "replaceData",
                            "description": "Update collection content",
                            "condition": "",
                            "argument": "$d(this)"
                          },
                          {
                            "targetId": "dialog-0",
                            "name": "hide",
                            "description": "Close dialog"
                          }
                        ]
                      }
                    ],
                    "block": true,
                    "variant": "primary",
                    "icon": "check"
                  }
                ],
                "defaultValue": "={}",
                "eventHandlers": [],
                "dataSource": "$object"
              },
              "eventHandlers": [],
              "size": "xl"
            },
            {
              "cid": "dialog-1",
              "type": "DialogView",
              "title": "Create project",
              "content": {
                "cid": "container-2",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "input-6",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Id",
                    "inputType": "text",
                    "description": "",
                    "field": "id",
                    "size": "default",
                    "disabled": true,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "defaultValue": "=$tools.uuid()"
                  },
                  {
                    "cid": "input-7",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Name",
                    "inputType": "text",
                    "description": "",
                    "field": "name",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "input-8",
                    "type": "TextareaView",
                    "dataType": "string",
                    "label": "Description",
                    "inputType": "text",
                    "description": "",
                    "field": "description",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "button-3",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Create project",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "myapps-storage",
                            "name": "eval",
                            "description": "Add ID if not exist",
                            "condition": "!parent.dataModel.id",
                            "argument": "parent.dataModel.id = Tools.uuid()"
                          },
                          {
                            "targetId": "myapps-storage",
                            "name": "addData",
                            "description": "Update collection content",
                            "argument": "$d(parent)",
                            "condition": ""
                          },
                          {
                            "targetId": "dialog-1",
                            "name": "hide",
                            "description": "Close dialog"
                          }
                        ]
                      }
                    ],
                    "block": true,
                    "variant": "primary",
                    "icon": "plus"
                  }
                ],
                "defaultValue": "={}",
                "eventHandlers": [],
                "dataSource": "$object"
              },
              "eventHandlers": [],
              "size": "xl"
            },
            {
              "cid": "container-101",
              "type": "ContainerView",
              "dataType": "object",
              "layout": "block",
              "components": [
                {
                  "cid": "container-102",
                  "type": "ContainerView",
                  "dataType": "object",
                  "layout": "block",
                  "components": [
                    {
                      "cid": "button-62",
                      "type": "ButtonView",
                      "dataSource": "$parent",
                      "label": "Back to applications",
                      "buttonType": "button",
                      "eventHandlers": [
                        {
                          "global": false,
                          "name": "@click",
                          "actions": [
                            {
                              "targetId": "shared",
                              "name": "setFieldData",
                              "description": "",
                              "argument": "'previewApp', false"
                            }
                          ]
                        }
                      ],
                      "icon": "arrow-left-circle"
                    },
                    {
                      "cid": "text-44",
                      "type": "TextView",
                      "dataType": "string",
                      "tag": "div",
                      "text": "=`\n${$c('shared').currentApplication()?.name}&nbsp;-\nversion \n<span class=\"badge badge-info\">\n    ${$d('shared').version?.version}\n</span>\n `\n",
                      "eventHandlers": [],
                      "class": "",
                      "hidden": null
                    },
                    {
                      "cid": "text-45",
                      "type": "TextView",
                      "dataType": "string",
                      "tag": "div",
                      "text": "Latest version",
                      "eventHandlers": [],
                      "class": "badge badge-warning",
                      "hidden": "=!$c('shared').isLatestVersion()"
                    },
                    {
                      "cid": "container-103",
                      "type": "ContainerView",
                      "dataType": "object",
                      "layout": "block",
                      "components": [],
                      "defaultValue": "={}",
                      "dataSource": "$parent",
                      "eventHandlers": [],
                      "hidden": null,
                      "layoutClass": "flex-grow-1"
                    },
                    {
                      "cid": "button-63",
                      "type": "ButtonView",
                      "dataSource": "$parent",
                      "label": "=`\nPrevious&nbsp;\n<span class=\"badge badge-info\">\n    ${$c('shared').previousVersion()?.version}\n</span>\n`",
                      "buttonType": "button",
                      "eventHandlers": [
                        {
                          "global": false,
                          "name": "@click",
                          "actions": [
                            {
                              "targetId": "shared",
                              "name": "selectVersion",
                              "description": "Go to previous version",
                              "argument": "$c('shared').previousVersion()"
                            },
                            {
                              "targetId": "preview-application-frame",
                              "name": "forceRender",
                              "argument": ""
                            }
                          ]
                        }
                      ],
                      "icon": "arrow-left-short",
                      "hidden": false,
                      "disabled": "=!$c('shared').previousVersion()"
                    },
                    {
                      "cid": "button-64",
                      "type": "ButtonView",
                      "dataSource": "$parent",
                      "label": "=`\nNext&nbsp;\n<span class=\"badge badge-info\">\n    ${$c('shared').nextVersion()?.version}\n</span>\n`",
                      "buttonType": "button",
                      "eventHandlers": [
                        {
                          "global": false,
                          "name": "@click",
                          "actions": [
                            {
                              "targetId": "shared",
                              "name": "selectVersion",
                              "description": "Go to next version",
                              "argument": "$c('shared').nextVersion()"
                            },
                            {
                              "targetId": "preview-application-frame",
                              "name": "forceRender",
                              "argument": ""
                            }
                          ]
                        }
                      ],
                      "icon": "arrow-right-short",
                      "hidden": false,
                      "iconPosition": "right",
                      "disabled": "=!$c('shared').nextVersion()"
                    }
                  ],
                  "defaultValue": "={}",
                  "dataSource": "$parent",
                  "eventHandlers": [],
                  "direction": "row",
                  "alignItems": "center",
                  "rowGap": "",
                  "columnGap": "1rem",
                  "class": "alert-secondary p-2",
                  "hidden": null,
                  "fillHeight": null
                },
                {
                  "cid": "preview-application-frame",
                  "type": "ApplicationView",
                  "fillHeight": true,
                  "eventHandlers": [
                    {
                      "global": false,
                      "name": "@model-changed",
                      "actions": [
                        {
                          "targetId": "mycontainer-101s-versions-storage",
                          "name": "replaceData",
                          "description": "Default action",
                          "argument": "$d('shared').version"
                        }
                      ]
                    }
                  ],
                  "model": "pKyx3i8m3BqAybmGNREnaG74n88wk8r1aV9JI0keojrnWa0z0igIz_m-zWmOWj439ktTmIio86PmEFKOos_G2iGNDv1UWHWVApvhUZ3NHtH5j0jXvT0IKugkE9fqmbjHQwVeoIodw5ijaedi7SHbXi0IgHOYWttP0MJ5kMk09d9fpns6OZ5rkG4SavTkY6Hv9XNJSou5jlGjBbgt73cnhvJMHD7-29PkD_o0hT7xzDdeBo_kyXi0",
                  "dataSource": "=$d('shared').version",
                  "field": "model",
                  "editable": "=$c('shared').isLatestVersion() \n&& !$c('shared').publicationState($d('shared').version?.id)\n&& parameters.get('mode') !== 'open'",
                  "hidden": null
                }
              ],
              "defaultValue": "={}",
              "eventHandlers": [],
              "fillHeight": true,
              "hidden": "=!$d('shared').previewApp"
            }
          ],
          "defaultValue": "={}",
          "eventHandlers": [
            {
              "global": false,
              "name": "@init",
              "actions": [
                {
                  "targetId": "$tools",
                  "name": "go",
                  "argument": "'create'",
                  "condition": "$d('myapps-storage').length === 0"
                }
              ]
            }
          ],
          "fillHeight": true,
          "disableContainerPadding": true
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "fillHeight": true,
      "disableContainerPadding": true
    },
    {
      "cid": "container-14",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "text-3",
          "type": "TextView",
          "dataType": "string",
          "tag": "div",
          "text": "",
          "eventHandlers": [],
          "dataSource": "$parent",
          "field": "description"
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "dataSource": "$parent",
      "disableContainerPadding": true
    },
    {
      "cid": "create",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "container-new-project",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "split-3",
              "type": "SplitView",
              "dataSource": "$parent",
              "orientation": "VERTICAL",
              "primaryComponentSize": "30",
              "secondaryComponentSize": "70",
              "primaryComponent": {
                "cid": "container-60",
                "type": "ContainerView",
                "layout": "block",
                "components": [
                  {
                    "cid": "image-4",
                    "type": "ImageView",
                    "src": "=$d(this)?.icon",
                    "blank": false,
                    "display": "default",
                    "layoutClass": "text-center",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "field": "",
                    "class": "border",
                    "style": "width: 15rem",
                    "defaultImage": true
                  },
                  {
                    "cid": "button-43",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Upload image...",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "$tools",
                            "name": "upload",
                            "description": "Default action",
                            "argument": "img => $set($d(this), 'icon', img), 'image', 300*1024, undefined, {\n    onlyIfSizeExceeded: true,\n    mimeType: 'image/jpg',\n    quality: 1,\n    maxWidth: 250\n}",
                            "condition": ""
                          }
                        ],
                        "stopIfConditionIsFalse": null
                      }
                    ],
                    "layoutClass": "mb-2 text-center",
                    "disabled": null,
                    "icon": "upload",
                    "hidden": null
                  }
                ],
                "defaultValue": "={}",
                "dataSource": "$parent",
                "eventHandlers": [],
                "fillHeight": null,
                "rowGap": "0.5rem"
              },
              "secondaryComponent": {
                "cid": "container-61",
                "type": "ContainerView",
                "layout": "block",
                "components": [
                  {
                    "cid": "input-27",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Name",
                    "inputType": "text",
                    "description": "",
                    "field": "name",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "required": true,
                    "state": "=!!$d(this) && !$d('myapps-storage').find(app => app.name === $d(this))",
                    "invalidFeedback": "=if (!$d(this)) \n    return 'Empty name';\nif ($d('myapps-storage').find(app => app.name === $d(this)))\n    return 'Name already exist';"
                  },
                  {
                    "cid": "textarea-5",
                    "type": "TextareaView",
                    "dataType": "string",
                    "label": "Description",
                    "inputType": "text",
                    "description": "",
                    "field": "description",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "required": true
                  },
                  {
                    "cid": "tags-3",
                    "type": "TagsView",
                    "dataType": "array",
                    "size": "default",
                    "eventHandlers": [],
                    "hidden": null,
                    "label": "Tags",
                    "description": "Tags will allow your application to be identified and categorized on the app store",
                    "dataSource": "$parent",
                    "field": "tags"
                  },
                  {
                    "cid": "text-28",
                    "type": "TextView",
                    "dataType": "string",
                    "tag": "div",
                    "text": "Icon (to be used when showing a link to the app in a menu)",
                    "eventHandlers": []
                  },
                  {
                    "cid": "icon-1",
                    "type": "IconView",
                    "icon": "exclamation-triangle",
                    "eventHandlers": [],
                    "hidden": null,
                    "useData": true,
                    "dataSource": "$parent",
                    "field": "linkIcon",
                    "allowUserSelection": true
                  }
                ],
                "defaultValue": "={}",
                "dataSource": "$parent",
                "eventHandlers": [],
                "layoutKind": "container-fluid"
              },
              "eventHandlers": []
            },
            {
              "cid": "card-8",
              "type": "CardView",
              "title": "",
              "subTitle": "",
              "imgSrc": "",
              "imgPosition": "top",
              "imgWidth": "",
              "imgHeight": "",
              "text": "",
              "header": {
                "cid": "text-29",
                "type": "TextView",
                "dataType": "string",
                "tag": "div",
                "text": "Initial version",
                "eventHandlers": []
              },
              "body": {
                "cid": "container-62",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "input-28",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Initial version",
                    "inputType": "text",
                    "description": "",
                    "field": "version",
                    "size": "default",
                    "disabled": true,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "required": true
                  },
                  {
                    "cid": "input-29",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Initial version description",
                    "inputType": "text",
                    "description": "",
                    "field": "versionDescription",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "required": true
                  }
                ],
                "defaultValue": "={}",
                "dataSource": "$parent",
                "eventHandlers": []
              },
              "footer": {},
              "dataSource": "$parent",
              "dataType": "object",
              "eventHandlers": [],
              "collapsable": true,
              "initiallyCollapsed": true,
              "class": "bg-transparent mt-3",
              "hidden": null
            }
          ],
          "defaultValue": "=({\n    id: $tools.uuid(),\n    version: '0.0.0',\n    versionDescription: 'Initial version',\n    linkIcon: 'play'\n})",
          "eventHandlers": [
            {
              "global": false,
              "name": "@data-model-changed",
              "actions": [
                {
                  "targetId": "$tools",
                  "name": "notifyParentApplication",
                  "description": "Trigger creating",
                  "argument": "'app-creating', this.isValid() ? $d(this) : undefined",
                  "condition": ""
                }
              ]
            }
          ],
          "layoutKind": "container-fluid"
        }
      ],
      "eventHandlers": [],
      "fillHeight": true,
      "class": "py-3"
    },
    {
      "cid": "share",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "container-47",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "text-20",
              "type": "TextView",
              "dataType": "string",
              "tag": "alert",
              "text": "Make sure to use appropriate tags for your app so that other users will be able to find it easily.\n<br/>Note also that you app will be moderated and that the actual publication might take some time.",
              "eventHandlers": []
            },
            {
              "cid": "input-58",
              "type": "InputView",
              "dataType": "string",
              "label": "Id",
              "inputType": "text",
              "description": "",
              "field": "id",
              "size": "default",
              "disabled": true,
              "placeholder": "",
              "eventHandlers": [],
              "dataSource": "$parent",
              "required": false
            },
            {
              "cid": "tags-1",
              "type": "TagsView",
              "dataType": "array",
              "size": "default",
              "eventHandlers": [],
              "label": "App tags",
              "dataSource": "$parent",
              "field": "tags",
              "required": null,
              "disabled": null
            },
            {
              "cid": "text-21",
              "type": "TextView",
              "dataType": "string",
              "tag": "div",
              "text": "=if ($c('shared').publicationState($c('navbar').queryParam('versionId')) === 'published') {\n    return `${$tools.icon('check-circle')} Application published to the app store`;\n} else if ($c('shared').publicationState($c('navbar').queryParam('versionId')) === 'submitted') {\n    return `${$tools.icon('check-circle')} Application submitted to the app store, please be patient while your application is being reviewed`;\n} else if ($c('shared').publicationState($c('navbar').queryParam('versionId')) === 'rejected') {\n    return `${$tools.icon('exclamation-triangle')} Your application was rejected. Please fix the reported problems and try to submit again your application.`;\n} else {\n    return `Sharing ${$d(this).name} (version ${$c('navbar').queryParam('versionId')}) will make it available to all users. Are you sure?`;\n}",
              "eventHandlers": [],
              "class": "=if ($c('shared').publicationState(ide.router.currentRoute.query.versionId) === 'published') {\n    return 'alert alert-success';\n} else if ($c('shared').publicationState(ide.router.currentRoute.query.versionId) === 'submitted') {\n    return 'alert alert-info';\n} else {\n    return 'alert alert-danger';\n}",
              "layoutClass": "",
              "hidden": false,
              "dataSource": "$parent"
            },
            {
              "cid": "textarea-4",
              "type": "TextareaView",
              "dataType": "string",
              "label": "Moderator comments",
              "description": "",
              "field": "",
              "size": "default",
              "disabled": true,
              "placeholder": "",
              "eventHandlers": [],
              "hidden": "=$c('shared').publicationState(ide.router.currentRoute.query.versionId) !== 'rejected'",
              "dataSource": "=$d('appstore-tmp-storage')\n    .find(app => app.id === ide.router.currentRoute.query.versionId)\n    ?.rejectComment",
              "rows": "10"
            }
          ],
          "defaultValue": "={}",
          "dataSource": "$parent",
          "eventHandlers": [],
          "class": "p-4",
          "layoutClass": "flex-grow-1",
          "hidden": null
        },
        {
          "cid": "container-27",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "button-30",
              "type": "ButtonView",
              "dataSource": "$parent",
              "label": "Close",
              "buttonType": "button",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@click",
                  "actions": [
                    {
                      "targetId": "$tools",
                      "name": "notifyParentApplication",
                      "description": "",
                      "argument": "'close-dialog', 'share-modal'",
                      "condition": ""
                    }
                  ]
                }
              ]
            },
            {
              "cid": "button-29",
              "type": "ButtonView",
              "dataSource": "$parent",
              "label": "=$tools.icon('reply-all', {flipH:true}) +\n($c('shared').publicationState(ide.router.currentRoute.query.versionId) !== 'rejected' ?\n    ' Share' : ' Submit again (fix the problems first)'\n)",
              "buttonType": "button",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@click",
                  "actions": [
                    {
                      "targetId": "shared",
                      "name": "publish",
                      "description": "",
                      "argument": "ide.router.currentRoute.query.versionId"
                    }
                  ]
                }
              ],
              "variant": "primary",
              "disabled": null,
              "hidden": "=$c('shared').publicationState(ide.router.currentRoute.query.versionId) === 'submitted'"
            }
          ],
          "defaultValue": "={}",
          "dataSource": "$parent",
          "eventHandlers": [],
          "direction": "row",
          "rowGap": "",
          "columnGap": "0.5rem",
          "justify": "end",
          "class": "modal-footer",
          "hidden": null
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "init": "$d('shared').appId = ide.router.currentRoute.query.appId",
      "fillHeight": true,
      "dataSource": "=$d('myapps-storage')?.find(app => app.id === ide.router.currentRoute.query.appId)",
      "hidden": null
    },
    {
      "cid": "Review",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "split-2",
          "type": "SplitView",
          "dataSource": "$parent",
          "orientation": "VERTICAL",
          "primaryComponentSize": "20",
          "secondaryComponentSize": "80",
          "primaryComponent": {
            "cid": "container-48",
            "type": "ContainerView",
            "dataType": "object",
            "layout": "block",
            "components": [
              {
                "cid": "container-49",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "search-submitted-app-input",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Search:",
                    "inputType": "search",
                    "description": "",
                    "field": "",
                    "size": "sm",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "horizontalLayout": true,
                    "style": "",
                    "class": ""
                  }
                ],
                "defaultValue": "={}",
                "dataSource": "$parent",
                "eventHandlers": [],
                "direction": "row",
                "justify": "center"
              },
              {
                "cid": "app-review-status-select",
                "type": "ContainerView",
                "layout": "block",
                "components": [
                  {
                    "cid": "button-40",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "=`To review\n<span class='badge badge-warning'>\n${\n$d(`appstore-tmp-storage`)\n    .filter(app => app.status !== 'published' && app.status !== 'rejected').length\n}\n</span>\n`",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "$parent",
                            "name": "setData",
                            "argument": "'To review'"
                          }
                        ]
                      }
                    ],
                    "variant": "=$d(this) === 'To review' ? 'primary' : 'none'",
                    "disabled": null
                  },
                  {
                    "cid": "button-41",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "=`Published\n<span class='badge badge-success'>\n${\n$d(`appstore-tmp-storage`)\n    .filter(app => app.status === 'published').length\n}\n</span>\n`",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "$parent",
                            "name": "setData",
                            "argument": "'Published'"
                          }
                        ]
                      }
                    ],
                    "variant": "=$d(this) === 'Published' ? 'primary' : 'none'",
                    "hidden": null,
                    "disabled": null
                  },
                  {
                    "cid": "button-42",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "=`Rejected\n<span class='badge badge-danger'>\n${\n$d(`appstore-tmp-storage`)\n    .filter(app => app.status === 'rejected').length\n}\n</span>\n`",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "$parent",
                            "name": "setData",
                            "argument": "'Rejected'"
                          }
                        ]
                      }
                    ],
                    "variant": "=$d(this) === 'Rejected' ? 'primary' : 'none'"
                  }
                ],
                "defaultValue": "To review",
                "eventHandlers": [],
                "direction": "row",
                "columnGap": "0.2rem",
                "justify": "center",
                "class": "mb-3"
              },
              {
                "cid": "iterator-4",
                "type": "IteratorView",
                "dataType": "array",
                "defaultValue": "=[]",
                "body": {
                  "cid": "card-7",
                  "type": "CardView",
                  "title": "",
                  "subTitle": "",
                  "imgSrc": "=if ($d(this)?.icon)\n    return $d(this)?.icon \n    else return basePath + 'assets/app-icons/no_image.png'\n",
                  "imgPosition": "top",
                  "imgWidth": "",
                  "imgHeight": "",
                  "text": "",
                  "headerEnabled": true,
                  "header": {
                    "cid": "container-50",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "text-26",
                        "type": "TextView",
                        "dataType": "string",
                        "tag": "div",
                        "text": "=`\n${$d(this).name}&nbsp;\n<span class=\"badge badge-info\">\n    ${$d(this).appVersion}\n</span>\n<span class=\"float-right\">\n${$c('shared').appReviewStatusBadge($d(this))}\n</span>\n `\n",
                        "eventHandlers": [],
                        "hidden": null,
                        "dataSource": "$parent",
                        "layoutClass": "w-100"
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "direction": "row",
                    "justify": "space-between",
                    "dataSource": "$parent",
                    "disableContainerPadding": true,
                    "alignItems": "center",
                    "hidden": null
                  },
                  "body": {
                    "cid": "container-51",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "text-23",
                        "type": "TextView",
                        "dataType": "string",
                        "tag": "div",
                        "text": "=`\n<div class=\"border-bottom\">Author: ${$d(this).$sharedBy}</div>\n${$d(this).description}\n`",
                        "eventHandlers": [],
                        "dataSource": "$parent"
                      },
                      {
                        "cid": "tags-2",
                        "type": "TagsView",
                        "dataType": "array",
                        "size": "default",
                        "eventHandlers": [],
                        "dataSource": "$parent",
                        "field": "tags",
                        "disabled": true,
                        "placeholder": ""
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "disableContainerPadding": true
                  },
                  "footer": {},
                  "eventHandlers": [
                    {
                      "global": false,
                      "name": "@click",
                      "actions": [
                        {
                          "targetId": "shared",
                          "name": "selectApplication",
                          "description": "Select",
                          "argument": "$d(this).id === $d('shared').appId ? undefined : $d(this).id",
                          "condition": ""
                        },
                        {
                          "targetId": "submitted-application-frame",
                          "name": "forceRender",
                          "argument": ""
                        }
                      ]
                    }
                  ],
                  "dataSource": "$parent",
                  "layoutStyle": "width: 15rem",
                  "class": "=$d('shared').appId === $d(this)?.id ? \n    'border-3' : ''",
                  "style": "cursor: pointer ",
                  "hidden": null,
                  "fillHeight": null,
                  "bgVariant": "=if ($d('shared').appId === $d(this)?.id) \n    return 'primary' \n    else return ''",
                  "borderVariant": "=$d('shared').appId === $d(this)?.id ? \n    'primary' : ''",
                  "textVariant": "=if ($d('shared').appId === $d(this)?.id) \n    return 'light' \n    else return ''",
                  "bodyClass": ""
                },
                "eventHandlers": [],
                "dataSource": "=$d(`appstore-tmp-storage`)\n    .filter(app => \n        (\n            !$d('search-submitted-app-input') \n            || app.name.toLowerCase().includes($d('search-submitted-app-input').toLowerCase())\n        )\n        &&\n        (\n            $d('app-review-status-select') === 'Rejected' && app.status === 'rejected' \n            || $d('app-review-status-select') === 'Published' && app.status === 'published'\n            || $d('app-review-status-select') === 'To review' && app.status !== 'published' && app.status !== 'rejected' \n        )\n    )",
                "disableContainerPadding": true,
                "wrap": "wrap",
                "direction": "row",
                "rowGap": "1rem",
                "columnGap": "1rem",
                "justify": "center",
                "fillHeight": null,
                "hidden": null
              }
            ],
            "defaultValue": "={}",
            "eventHandlers": [],
            "class": "py-3",
            "fillHeight": true,
            "disableContainerPadding": null,
            "layoutKind": "container-fluid",
            "hidden": null
          },
          "secondaryComponent": {
            "cid": "container-52",
            "type": "ContainerView",
            "layout": "block",
            "components": [
              {
                "cid": "container-53",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "text-24",
                    "type": "TextView",
                    "dataType": "string",
                    "tag": "div",
                    "text": "=`\n${$d(this).name}&nbsp;\n<span class=\"badge badge-info\">\n    ${$d(this).appVersion}\n</span>\n `\n",
                    "eventHandlers": [],
                    "class": "",
                    "hidden": null,
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "container-54",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "text-46",
                        "type": "TextView",
                        "dataType": "string",
                        "tag": "badge",
                        "text": "=`${$d(this).status}`",
                        "eventHandlers": [],
                        "dataSource": "$parent"
                      }
                    ],
                    "defaultValue": "={}",
                    "dataSource": "$parent",
                    "eventHandlers": [],
                    "hidden": null,
                    "layoutClass": "flex-grow-1",
                    "direction": "row"
                  },
                  {
                    "cid": "button-65",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Bundle & deploy",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "navbar",
                            "name": "go",
                            "argument": "\"bundle\""
                          }
                        ]
                      }
                    ],
                    "icon": "file-zip",
                    "hidden": "=$d(this).status !== 'published'",
                    "disabled": false,
                    "variant": "info"
                  },
                  {
                    "cid": "button-36",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Accept",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "shared",
                            "name": "eval",
                            "description": "Set app status",
                            "argument": "$set($d(this), 'status', 'published'),\n$set($d(this), 'rejectComment', '')"
                          },
                          {
                            "targetId": "appstore-storage",
                            "name": "addData",
                            "argument": "$d(this)"
                          }
                        ]
                      }
                    ],
                    "icon": "check2",
                    "hidden": false,
                    "disabled": false,
                    "variant": "primary"
                  },
                  {
                    "cid": "button-37",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Reject",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "reject-dialog",
                            "name": "show",
                            "argument": ""
                          }
                        ]
                      }
                    ],
                    "icon": "x-octagon",
                    "hidden": false,
                    "disabled": false,
                    "variant": "danger"
                  }
                ],
                "defaultValue": "={}",
                "dataSource": "$parent",
                "eventHandlers": [],
                "direction": "row",
                "alignItems": "center",
                "rowGap": "",
                "columnGap": "1rem",
                "class": "alert-secondary p-2",
                "hidden": null
              },
              {
                "cid": "submitted-application-frame",
                "type": "ApplicationView",
                "fillHeight": true,
                "eventHandlers": [],
                "dataSource": "$parent",
                "model": "pK-z3i8W47uLStCrwiZc9eF6oSLqk9Qp8Q50a5ODuTqzC1eVmR3mVVVzt2L0xutkCMfd3qwH0P70ujnXABzUAn0Vt41yUc9yhFYiwSvS5z0MqSxxXSMHc59qnSd44mv5hQsY1xESeeTQ92EDDn2N19ubKls837Pb1v0LvxO1cid6FNSO2iNKvWPmYaxQFj38CwcOJhaKZANlvwBbbYDdzfNIcYWsNuAbwnK_O6jmBhut-ikBs_m2",
                "field": "model"
              },
              {
                "cid": "reject-dialog",
                "type": "DialogView",
                "title": "Reject app",
                "content": {
                  "cid": "container-55",
                  "type": "ContainerView",
                  "layout": "block",
                  "components": [
                    {
                      "cid": "reject-comment",
                      "type": "TextareaView",
                      "dataType": "string",
                      "label": "Comments",
                      "description": "Enter the list of improvements to be made to conform to publication standards ",
                      "field": "",
                      "size": "default",
                      "rows": "10",
                      "disabled": false,
                      "placeholder": "",
                      "eventHandlers": []
                    },
                    {
                      "cid": "container-57",
                      "type": "ContainerView",
                      "layout": "block",
                      "components": [
                        {
                          "cid": "button-39",
                          "type": "ButtonView",
                          "dataSource": "$parent",
                          "label": "Cancel",
                          "buttonType": "button",
                          "eventHandlers": [
                            {
                              "global": false,
                              "name": "@click",
                              "actions": [
                                {
                                  "targetId": "reject-dialog",
                                  "name": "hide"
                                }
                              ]
                            }
                          ],
                          "hidden": null,
                          "disabled": null
                        },
                        {
                          "cid": "button-38",
                          "type": "ButtonView",
                          "dataSource": "$parent",
                          "label": "Reject",
                          "buttonType": "button",
                          "eventHandlers": [
                            {
                              "global": false,
                              "name": "@click",
                              "actions": [
                                {
                                  "targetId": "$self",
                                  "name": "eval",
                                  "argument": "$set($d(this), 'status', 'rejected'),\n$set($d(this), 'rejectComment', $d('reject-comment'))"
                                }
                              ]
                            }
                          ],
                          "icon": "x-octagon",
                          "hidden": false,
                          "disabled": false,
                          "variant": "danger"
                        }
                      ],
                      "defaultValue": "={}",
                      "dataSource": "$parent",
                      "eventHandlers": [],
                      "direction": "row",
                      "hidden": null,
                      "columnGap": "0.5rem",
                      "justify": "end"
                    }
                  ],
                  "defaultValue": "={}",
                  "dataSource": "$parent",
                  "eventHandlers": [],
                  "hidden": null
                },
                "eventHandlers": [],
                "hidden": null,
                "dataSource": "$parent"
              }
            ],
            "defaultValue": "={}",
            "dataSource": "$parent",
            "eventHandlers": [],
            "fillHeight": true,
            "hidden": "=!$c('shared').currentApplication()"
          },
          "eventHandlers": [],
          "fillHeight": true,
          "resizableSplit": true,
          "gutterSize": "6"
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "fillHeight": true,
      "dataSource": "=$c('shared').currentApplication()"
    },
    {
      "cid": "Edit",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "container-73",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "split-4",
              "type": "SplitView",
              "dataSource": "$parent",
              "orientation": "VERTICAL",
              "primaryComponentSize": "30",
              "secondaryComponentSize": "70",
              "primaryComponent": {
                "cid": "container-64",
                "type": "ContainerView",
                "layout": "block",
                "components": [
                  {
                    "cid": "image-5",
                    "type": "ImageView",
                    "src": "=$d(this).icon",
                    "blank": false,
                    "display": "default",
                    "layoutClass": "text-center",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "field": "",
                    "class": "border",
                    "style": "width: 15rem",
                    "defaultImage": true
                  },
                  {
                    "cid": "button-44",
                    "type": "ButtonView",
                    "dataSource": "$parent",
                    "label": "Upload image...",
                    "buttonType": "button",
                    "eventHandlers": [
                      {
                        "global": false,
                        "name": "@click",
                        "actions": [
                          {
                            "targetId": "$tools",
                            "name": "upload",
                            "description": "Default action",
                            "argument": "img => $set($d(this), 'icon', img), 'image', 300*1024, undefined, {\n    onlyIfSizeExceeded: true,\n    mimeType: 'image/jpg',\n    quality: 1,\n    maxWidth: 250\n}",
                            "condition": ""
                          }
                        ],
                        "stopIfConditionIsFalse": null
                      }
                    ],
                    "layoutClass": "mb-2 text-center",
                    "disabled": null,
                    "icon": "upload",
                    "hidden": null
                  }
                ],
                "defaultValue": "={}",
                "dataSource": "$parent",
                "eventHandlers": [],
                "fillHeight": null,
                "rowGap": "0.5rem"
              },
              "secondaryComponent": {
                "cid": "container-65",
                "type": "ContainerView",
                "layout": "block",
                "components": [
                  {
                    "cid": "input-57",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Id",
                    "inputType": "text",
                    "description": "",
                    "field": "id",
                    "size": "default",
                    "disabled": true,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "required": false
                  },
                  {
                    "cid": "input-30",
                    "type": "InputView",
                    "dataType": "string",
                    "label": "Name",
                    "inputType": "text",
                    "description": "",
                    "field": "name",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "required": true
                  },
                  {
                    "cid": "textarea-6",
                    "type": "TextareaView",
                    "dataType": "string",
                    "label": "Description",
                    "inputType": "text",
                    "description": "",
                    "field": "description",
                    "size": "default",
                    "disabled": false,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "required": true
                  },
                  {
                    "cid": "tags-4",
                    "type": "TagsView",
                    "dataType": "array",
                    "size": "default",
                    "eventHandlers": [],
                    "hidden": null,
                    "label": "Tags",
                    "description": "Tags will allow your application to be identified and categorized on the app store",
                    "dataSource": "$parent",
                    "field": "tags",
                    "required": false
                  },
                  {
                    "cid": "text-30",
                    "type": "TextView",
                    "dataType": "string",
                    "tag": "div",
                    "text": "Icon (to be used when showing a link to the app in a menu)",
                    "eventHandlers": []
                  },
                  {
                    "cid": "icon-2",
                    "type": "IconView",
                    "icon": "exclamation-triangle",
                    "eventHandlers": [],
                    "hidden": null,
                    "useData": true,
                    "dataSource": "$parent",
                    "field": "linkIcon",
                    "allowUserSelection": true
                  }
                ],
                "defaultValue": "={}",
                "dataSource": "$parent",
                "eventHandlers": [],
                "layoutKind": "container-fluid"
              },
              "eventHandlers": [],
              "fillHeight": false
            },
            {
              "cid": "text-32",
              "type": "TextView",
              "tag": "div",
              "text": "=`Version \n    <span class=\"badge badge-info\">\n        ${$d('myapps-versions-storage').at(-1)?.version}\n    </span>\n`",
              "eventHandlers": [],
              "hidden": "=$d('myapps-versions-storage').length === 0"
            },
            {
              "cid": "create-new-version",
              "type": "CheckboxView",
              "dataType": "boolean",
              "label": "Create new version",
              "size": "default",
              "description": "",
              "field": "",
              "disabled": false,
              "switch": true,
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@input",
                  "actions": [
                    {
                      "targetId": "new-version-container",
                      "name": "setData",
                      "argument": "(() => {\n    let lastVersion = $d('myapps-versions-storage').at(-1).version;\n    lastVersion = lastVersion.split('.');\n    lastVersion[lastVersion.length - 1] = parseInt(lastVersion[lastVersion.length - 1]) + 1;\n    return { version: lastVersion.join('.'), description: \"New version\" };\n})()\n",
                      "condition": "value && $d('Edit').id"
                    },
                    {
                      "targetId": "new-version-container",
                      "name": "setVisible",
                      "description": "",
                      "condition": "",
                      "argument": "value"
                    }
                  ]
                }
              ],
              "horizontalLayout": true,
              "hidden": "=$d('myapps-versions-storage').length === 0"
            },
            {
              "cid": "new-version-container",
              "type": "ContainerView",
              "dataType": "object",
              "layout": "block",
              "components": [
                {
                  "cid": "input-34",
                  "type": "InputView",
                  "dataType": "string",
                  "label": "Version",
                  "inputType": "text",
                  "description": "",
                  "field": "version",
                  "size": "sm",
                  "disabled": false,
                  "placeholder": "",
                  "eventHandlers": [],
                  "dataSource": "$parent",
                  "class": "mb-0"
                },
                {
                  "cid": "input-35",
                  "type": "InputView",
                  "dataType": "string",
                  "label": "Description",
                  "inputType": "text",
                  "description": "",
                  "field": "description",
                  "size": "sm",
                  "disabled": false,
                  "placeholder": "",
                  "eventHandlers": [],
                  "dataSource": "$parent",
                  "class": "mb-0",
                  "layoutClass": "flex-grow-1"
                }
              ],
              "defaultValue": "=return { version: '0.0.0', description: \"Initial version\" };\n",
              "eventHandlers": [],
              "direction": "row",
              "alignItems": "end",
              "rowGap": "",
              "columnGap": "0.2rem",
              "hidden": "=$d('myapps-versions-storage').length > 0",
              "switch": null,
              "disabled": null
            }
          ],
          "defaultValue": "={}",
          "dataSource": "$parent",
          "eventHandlers": [],
          "fillHeight": false,
          "layoutClass": "overflow-auto flex-grow-1"
        },
        {
          "cid": "container-72",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "button-49",
              "type": "ButtonView",
              "dataSource": "$parent",
              "label": "Cancel",
              "buttonType": "button",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@click",
                  "actions": [
                    {
                      "targetId": "$tools",
                      "name": "notifyParentApplication",
                      "description": "",
                      "argument": "'close-dialog', 'save-modal'",
                      "condition": ""
                    }
                  ]
                }
              ]
            },
            {
              "cid": "button-50",
              "type": "ButtonView",
              "dataSource": "$parent",
              "label": "='Save'",
              "buttonType": "button",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@click",
                  "actions": [
                    {
                      "targetId": "$self",
                      "name": "setFieldData",
                      "description": "[NEW APP] Add uuid",
                      "argument": "'id', $tools.uuid()",
                      "condition": "!$d(this).id"
                    },
                    {
                      "targetId": "shared",
                      "name": "setFieldData",
                      "argument": "'appId', $d(this).id",
                      "condition": ""
                    },
                    {
                      "targetId": "myapps-storage",
                      "name": "addData",
                      "description": "",
                      "argument": "$d(this)",
                      "condition": ""
                    },
                    {
                      "targetId": "myapps-storage",
                      "name": "wait",
                      "argument": "",
                      "condition": ""
                    },
                    {
                      "targetId": "myapps-versions-storage",
                      "name": "update",
                      "condition": "",
                      "argument": ""
                    },
                    {
                      "targetId": "myapps-versions-storage",
                      "name": "eval",
                      "description": "[EXISTING VERSION]",
                      "argument": "$d(target).at(-1).model = $d('shared').newAppContent.model",
                      "condition": "$d(target).length > 0 && !$d('create-new-version')"
                    },
                    {
                      "targetId": "myapps-versions-storage",
                      "name": "addData",
                      "argument": "({\n    id: $d(this).id + '-' + $d('new-version-container').version,\n    version: $d('new-version-container').version,\n    appId: $d(this).id,\n    description: $d('new-version-container').description,\n    model: $d('shared').newAppContent.model\n})",
                      "condition": "$d(target).length === 0 || !!$d('create-new-version')",
                      "description": "[NEW VERSION]"
                    },
                    {
                      "targetId": "myapps-versions-storage",
                      "name": "wait",
                      "argument": "",
                      "condition": ""
                    },
                    {
                      "targetId": "$tools",
                      "name": "notifyParentApplication",
                      "argument": "'app-saved', $d(this)",
                      "condition": ""
                    },
                    {
                      "targetId": "$tools",
                      "name": "notifyParentApplication",
                      "argument": "'close-dialog', 'save-modal'",
                      "condition": ""
                    }
                  ]
                }
              ],
              "variant": "primary",
              "disabled": "=!$d(this) || \n!$d(this).name ||\n!$d(this).description\n",
              "hidden": false,
              "icon": "check2"
            }
          ],
          "defaultValue": "={}",
          "dataSource": "$parent",
          "eventHandlers": [],
          "direction": "row",
          "rowGap": "",
          "columnGap": "0.5rem",
          "justify": "end",
          "class": "modal-footer",
          "hidden": null,
          "fillHeight": null
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "init": "//$d('shared').appId = ide.router.currentRoute.query.appId;\nconsole.info('requesting app content');\n$tools.requestFromParentApplication('get-app-info', \n    appContent => {\n        console.info('got app content', appContent);\n        $c('shared').setFieldData('appId', appContent.app.id);\n        $c('shared').setFieldData('newAppContent', appContent);\n    }\n)\n",
      "fillHeight": true,
      "dataSource": "=$d('shared').newAppContent?.app",
      "class": "p-2"
    },
    {
      "cid": "manage",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "split-5",
          "type": "SplitView",
          "orientation": "VERTICAL",
          "primaryComponentSize": 50,
          "secondaryComponentSize": 50,
          "primaryComponent": {
            "cid": "container-80",
            "type": "ContainerView",
            "dataType": "object",
            "layout": "block",
            "components": [
              {
                "cid": "container-81",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [],
                "defaultValue": "={}",
                "eventHandlers": [],
                "direction": "row",
                "disableContainerPadding": true,
                "justify": "space-between",
                "fillHeight": null
              },
              {
                "cid": "pagination-9",
                "type": "PaginationView",
                "dataSource": "iterator-6",
                "eventHandlers": [
                  {
                    "global": false,
                    "name": "@input",
                    "actions": [
                      {
                        "targetId": "iterator-6",
                        "name": "setCurrentPage",
                        "description": "Set page",
                        "argument": "value"
                      },
                      {
                        "targetId": "shared",
                        "name": "setFieldData",
                        "argument": "'currentPage', value"
                      }
                    ]
                  }
                ],
                "align": "center",
                "size": "sm",
                "pills": true,
                "disabled": null,
                "perPage": "10",
                "initialPage": "=$d('shared').currentPage"
              },
              {
                "cid": "input-37",
                "type": "InputView",
                "dataType": "string",
                "label": "Filter:",
                "inputType": "search",
                "description": "",
                "field": "",
                "size": "sm",
                "disabled": false,
                "placeholder": "",
                "eventHandlers": [],
                "horizontalLayout": true
              },
              {
                "cid": "iterator-6",
                "type": "IteratorView",
                "dataType": "array",
                "defaultValue": "=[]",
                "body": {
                  "cid": "card-12",
                  "type": "CardView",
                  "title": "",
                  "subTitle": "",
                  "imgSrc": "=if ($d(this).icon)\n    return $d(this).icon \n    else return basePath + 'assets/app-icons/no_image.png'\n",
                  "imgPosition": "top",
                  "imgWidth": "",
                  "imgHeight": "",
                  "text": "",
                  "headerEnabled": true,
                  "header": {
                    "cid": "container-82",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "text-35",
                        "type": "TextView",
                        "dataType": "string",
                        "tag": "div",
                        "text": "",
                        "eventHandlers": [],
                        "dataSource": "$parent",
                        "field": "name"
                      },
                      {
                        "cid": "container-83",
                        "type": "ContainerView",
                        "dataType": "object",
                        "layout": "block",
                        "components": [],
                        "defaultValue": "={}",
                        "eventHandlers": [],
                        "direction": "row",
                        "hidden": null,
                        "disableContainerPadding": true,
                        "dataSource": "$parent",
                        "columnGap": "0.2rem"
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "direction": "row",
                    "justify": "space-between",
                    "dataSource": "$parent",
                    "disableContainerPadding": true
                  },
                  "body": {
                    "cid": "container-84",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "iterator-8",
                        "type": "IteratorView",
                        "dataType": "array",
                        "defaultValue": "=[]",
                        "body": {
                          "cid": "text-55",
                          "type": "TextView",
                          "dataType": "string",
                          "tag": "div",
                          "text": "=`<span class=\"badge badge-secondary badge-pill\">${$d(this)}</span>`",
                          "eventHandlers": [],
                          "dataSource": "$parent"
                        },
                        "eventHandlers": [],
                        "direction": "row",
                        "dataSource": "$parent",
                        "field": "tags",
                        "columnGap": "0.2rem",
                        "layoutClass": "mb-1"
                      },
                      {
                        "cid": "text-36",
                        "type": "TextView",
                        "dataType": "string",
                        "tag": "div",
                        "text": "",
                        "eventHandlers": [],
                        "dataSource": "$parent",
                        "field": "description"
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "disableContainerPadding": true
                  },
                  "footer": {},
                  "eventHandlers": [
                    {
                      "global": false,
                      "name": "@click",
                      "actions": [
                        {
                          "targetId": "shared",
                          "name": "selectApplication",
                          "description": "Select",
                          "argument": "$d(this).id === $d('shared').appId ? undefined : $d(this).id",
                          "condition": ""
                        }
                      ],
                      "stopIfConditionIsFalse": null
                    }
                  ],
                  "dataSource": "$parent",
                  "layoutStyle": "width: 15rem",
                  "bgVariant": "=if ($d('shared').appId === $d(this).id) \n    return 'primary' \n    else return ''",
                  "borderVariant": "=$d('shared').appId === $d(this).id ? \n    'primary' : ''",
                  "class": "=$d('shared').appId === $d(this).id ? \n    'border-3' : ''",
                  "style": "cursor: pointer ",
                  "hidden": null,
                  "fillHeight": null,
                  "textVariant": "=if ($d('shared').appId === $d(this).id) \n    return 'light' \n    else return ''"
                },
                "eventHandlers": [],
                "dataSource": "=$d(`myapps-storage`)\n    .filter(app => \n        !$d('input-37') \n        || app.name.includes($d('input-37'))\n    )",
                "disableContainerPadding": true,
                "wrap": "wrap",
                "direction": "row",
                "rowGap": "1rem",
                "columnGap": "1rem",
                "perPage": "10",
                "justify": "center",
                "fillHeight": null
              }
            ],
            "defaultValue": "={}",
            "eventHandlers": [],
            "class": "py-3",
            "fillHeight": true,
            "disableContainerPadding": null,
            "layoutKind": "container",
            "hidden": null,
            "layoutClass": ""
          },
          "secondaryComponent": {
            "cid": "container-85",
            "type": "ContainerView",
            "dataType": "object",
            "layout": "block",
            "components": [
              {
                "cid": "container-86",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "text-37",
                    "type": "TextView",
                    "tag": "div",
                    "text": "No projects selected.",
                    "eventHandlers": [],
                    "dataSource": "$parent"
                  }
                ],
                "defaultValue": "={}",
                "eventHandlers": [],
                "hidden": "=!!$d(this).id",
                "dataSource": "$parent"
              },
              {
                "cid": "container-87",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "container-88",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "text-38",
                        "type": "TextView",
                        "dataType": "string",
                        "label": "Name",
                        "inputType": "text",
                        "description": "",
                        "field": "name",
                        "size": "default",
                        "disabled": true,
                        "placeholder": "",
                        "eventHandlers": [],
                        "dataSource": "$parent",
                        "tag": "h3",
                        "hidden": null
                      },
                      {
                        "cid": "container-89",
                        "type": "ContainerView",
                        "dataType": "object",
                        "layout": "block",
                        "components": [
                          {
                            "cid": "button-54",
                            "type": "ButtonView",
                            "dataSource": "$parent",
                            "label": "",
                            "buttonType": "button",
                            "eventHandlers": [
                              {
                                "global": false,
                                "name": "@click",
                                "actions": [
                                  {
                                    "targetId": "update-project-dialog",
                                    "name": "show",
                                    "description": "",
                                    "argument": "$d(this)"
                                  }
                                ]
                              }
                            ],
                            "block": true,
                            "hidden": false,
                            "disabled": false,
                            "icon": "pencil",
                            "size": "sm",
                            "layoutClass": "text-center",
                            "variant": "secondary",
                            "pill": true
                          },
                          {
                            "cid": "button-55",
                            "type": "ButtonView",
                            "dataSource": "$parent",
                            "label": "",
                            "buttonType": "button",
                            "eventHandlers": [
                              {
                                "global": false,
                                "name": "@click",
                                "actions": [
                                  {
                                    "targetId": "myapps-versions-storage",
                                    "name": "clear",
                                    "argument": "",
                                    "condition": "confirm(`Are you sure you want to remove the '${$d(this).name}' application?`)"
                                  },
                                  {
                                    "targetId": "myapps-storage",
                                    "name": "removeData",
                                    "description": "",
                                    "condition": "",
                                    "argument": "$d(this)"
                                  }
                                ],
                                "stopIfConditionIsFalse": true
                              }
                            ],
                            "block": true,
                            "variant": "danger",
                            "icon": "trash",
                            "disabled": false,
                            "hidden": false,
                            "size": "sm",
                            "pill": null,
                            "layoutClass": "text-center"
                          }
                        ],
                        "defaultValue": "={}",
                        "dataSource": "$parent",
                        "eventHandlers": [],
                        "direction": "row",
                        "hidden": "=parameters.get('mode') === 'open'",
                        "rowGap": "",
                        "columnGap": "0.2rem"
                      }
                    ],
                    "defaultValue": "={}",
                    "eventHandlers": [],
                    "direction": "row",
                    "disableContainerPadding": true,
                    "hidden": null,
                    "justify": "space-between",
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "text-39",
                    "type": "TextView",
                    "dataType": "string",
                    "label": "Id",
                    "inputType": "text",
                    "description": "",
                    "field": "id",
                    "size": "default",
                    "disabled": true,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent",
                    "text": "=`Id: ${$d(this)}`"
                  },
                  {
                    "cid": "text-40",
                    "type": "TextView",
                    "dataType": "string",
                    "label": "Description",
                    "inputType": "text",
                    "description": "",
                    "field": "description",
                    "size": "default",
                    "disabled": true,
                    "placeholder": "",
                    "eventHandlers": [],
                    "dataSource": "$parent"
                  },
                  {
                    "cid": "card-13",
                    "type": "CardView",
                    "title": "",
                    "subTitle": "",
                    "imgSrc": "",
                    "imgPosition": "top",
                    "imgWidth": "",
                    "imgHeight": "",
                    "text": "",
                    "headerEnabled": true,
                    "header": {
                      "cid": "container-90",
                      "type": "ContainerView",
                      "dataType": "object",
                      "layout": "block",
                      "components": [
                        {
                          "cid": "text-41",
                          "type": "TextView",
                          "dataType": "string",
                          "tag": "h3",
                          "text": "Versions",
                          "eventHandlers": []
                        }
                      ],
                      "defaultValue": "={}",
                      "eventHandlers": [],
                      "disableContainerPadding": true,
                      "direction": "row",
                      "justify": "space-between"
                    },
                    "body": {
                      "cid": "container-91",
                      "type": "ContainerView",
                      "dataType": "object",
                      "layout": "block",
                      "components": [
                        {
                          "cid": "pagination-10",
                          "type": "PaginationView",
                          "dataSource": "table-3",
                          "eventHandlers": [],
                          "align": "center",
                          "size": "sm",
                          "pills": true,
                          "disabled": null
                        },
                        {
                          "cid": "input-38",
                          "type": "InputView",
                          "dataType": "string",
                          "label": "Filter:",
                          "inputType": "search",
                          "description": "",
                          "field": "",
                          "size": "sm",
                          "disabled": false,
                          "placeholder": "",
                          "eventHandlers": [],
                          "horizontalLayout": true
                        },
                        {
                          "cid": "table-3",
                          "type": "TableView",
                          "dataType": "array",
                          "fields": [
                            {
                              "key": "version",
                              "label": "Version"
                            },
                            {
                              "key": "description",
                              "label": "Description",
                              "thStyle": "width: 80%"
                            },
                            {
                              "key": "published",
                              "label": "Published",
                              "customComponent": true,
                              "hidden": true
                            },
                            {
                              "key": "buttons",
                              "label": "",
                              "customComponent": true,
                              "thStyle": "width: 3rem"
                            }
                          ],
                          "defaultValue": "=([\n        {x: \"a\", data1: 30, data2: 4}, \n        {x: \"b\", data1: 37, data2: 12},\n        {x: \"c\", data1: 22, data2: 8}\n])",
                          "eventHandlers": [],
                          "selectMode": "single",
                          "dataSource": "myapps-versions-storage",
                          "customComponent_published": {
                            "cid": "container-92",
                            "type": "ContainerView",
                            "dataType": "array",
                            "layout": "block",
                            "components": [
                              {
                                "cid": "checkbox-6",
                                "type": "CheckboxView",
                                "dataType": "boolean",
                                "label": "",
                                "size": "default",
                                "description": "",
                                "disabled": "=!$d(parent).model || parameters.get('mode') === 'open'",
                                "switch": true,
                                "eventHandlers": [
                                  {
                                    "global": false,
                                    "name": "@change",
                                    "actions": [
                                      {
                                        "targetId": "shared",
                                        "name": "publish",
                                        "description": "Publish",
                                        "argument": "$d(this.getParent()).id, console.info('>>', this.getParent())",
                                        "condition": "value && confirm('Publish application to the APP Store? Everyone will be able to use it.')"
                                      },
                                      {
                                        "targetId": "shared",
                                        "name": "unpublish",
                                        "description": "Unpublish",
                                        "argument": "$d(parent).id",
                                        "condition": "!value && confirm('Remove application from the APP Store? Everyone will loose access to this application version.')"
                                      },
                                      {
                                        "targetId": "$self",
                                        "name": "forceRender",
                                        "description": "",
                                        "argument": "",
                                        "condition": ""
                                      }
                                    ]
                                  }
                                ],
                                "dataSource": "=!!$d('appstore-storage')\n    .find(app => app.id === $d(parent).id)",
                                "hidden": null
                              }
                            ],
                            "defaultValue": "={}",
                            "dataSource": "$parent",
                            "eventHandlers": [],
                            "direction": "row"
                          },
                          "filter": "$d('input-38')",
                          "customComponent_buttons": {
                            "cid": "container-93",
                            "type": "ContainerView",
                            "dataType": "object",
                            "layout": "block",
                            "components": [
                              {
                                "cid": "button-57",
                                "type": "ButtonView",
                                "dataSource": "$parent",
                                "label": "",
                                "buttonType": "button",
                                "eventHandlers": [
                                  {
                                    "global": false,
                                    "name": "@click",
                                    "actions": [
                                      {
                                        "targetId": "myapps-versions-storage",
                                        "name": "removeDataAt",
                                        "description": "",
                                        "condition": "",
                                        "argument": "$d(target).findIndex(data => data.id === $d(this).id)"
                                      }
                                    ]
                                  }
                                ],
                                "block": false,
                                "variant": "danger",
                                "icon": "trash",
                                "disabled": "=!!$c('shared').publicationState($d(this).id)",
                                "size": "sm",
                                "hidden": "=parameters.get('mode') === 'open'"
                              },
                              {
                                "cid": "button-58",
                                "type": "ButtonView",
                                "dataSource": "$parent",
                                "label": "",
                                "buttonType": "button",
                                "eventHandlers": [
                                  {
                                    "global": false,
                                    "name": "@click",
                                    "actions": [
                                      {
                                        "targetId": "dialog-5",
                                        "name": "show",
                                        "description": "Open update dialog",
                                        "argument": "$d(this)"
                                      }
                                    ]
                                  }
                                ],
                                "block": false,
                                "disabled": false,
                                "icon": "pencil",
                                "size": "sm",
                                "class": "",
                                "layoutClass": "text-center",
                                "hidden": "=parameters.get('mode') === 'open'"
                              },
                              {
                                "cid": "button-59",
                                "type": "ButtonView",
                                "dataSource": "$parent",
                                "label": "",
                                "buttonType": "button",
                                "eventHandlers": [
                                  {
                                    "global": false,
                                    "name": "@click",
                                    "actions": [
                                      {
                                        "targetId": "shared",
                                        "name": "setFieldData",
                                        "description": "Set current version",
                                        "argument": "'version', $d(this)"
                                      },
                                      {
                                        "targetId": "$tools",
                                        "name": "go",
                                        "description": "Go to app",
                                        "argument": "'app'"
                                      }
                                    ]
                                  }
                                ],
                                "variant": "primary",
                                "size": "sm",
                                "pill": false,
                                "icon": "play",
                                "layoutClass": "text-center",
                                "hidden": true,
                                "disabled": false
                              }
                            ],
                            "defaultValue": "={}",
                            "eventHandlers": [],
                            "dataSource": "$parent",
                            "disableContainerPadding": true,
                            "direction": "row",
                            "columnGap": "0.2rem"
                          },
                          "hidden": null,
                          "notSelectable": true
                        }
                      ],
                      "defaultValue": "={}",
                      "eventHandlers": [],
                      "class": "=this.screenWidth <= 800 ? 'p-0' : ''",
                      "disableContainerPadding": true
                    },
                    "footer": {},
                    "eventHandlers": [],
                    "layoutClass": "mt-2",
                    "fillHeight": null,
                    "hidden": null
                  }
                ],
                "defaultValue": "={}",
                "eventHandlers": [],
                "hidden": "=!$d(this).id",
                "dataSource": "$parent"
              },
              {
                "cid": "container-94",
                "type": "ContainerView",
                "dataType": "object",
                "layout": "block",
                "components": [
                  {
                    "cid": "dialog-5",
                    "type": "DialogView",
                    "title": "Update",
                    "content": {
                      "cid": "container-95",
                      "type": "ContainerView",
                      "dataType": "object",
                      "layout": "block",
                      "components": [
                        {
                          "cid": "input-39",
                          "type": "InputView",
                          "dataType": "string",
                          "label": "Version",
                          "inputType": "text",
                          "description": "",
                          "field": "version",
                          "size": "default",
                          "disabled": true,
                          "placeholder": "",
                          "eventHandlers": [],
                          "dataSource": "$parent"
                        },
                        {
                          "cid": "input-40",
                          "type": "InputView",
                          "dataType": "string",
                          "label": "Description",
                          "inputType": "text",
                          "description": "",
                          "field": "description",
                          "size": "default",
                          "disabled": false,
                          "placeholder": "",
                          "eventHandlers": [],
                          "dataSource": "$parent"
                        },
                        {
                          "cid": "checkbox-7",
                          "type": "CheckboxView",
                          "dataType": "boolean",
                          "label": "Published",
                          "size": "default",
                          "description": "",
                          "field": "published",
                          "disabled": false,
                          "switch": true,
                          "eventHandlers": [],
                          "dataSource": "$parent",
                          "hidden": true
                        },
                        {
                          "cid": "button-60",
                          "type": "ButtonView",
                          "dataSource": "$parent",
                          "label": "Update",
                          "buttonType": "button",
                          "eventHandlers": [
                            {
                              "global": false,
                              "name": "@click",
                              "actions": [
                                {
                                  "targetId": "myapps-versions-storage",
                                  "name": "replaceData",
                                  "description": "Update collection content",
                                  "condition": "",
                                  "argument": "$d(this)"
                                },
                                {
                                  "targetId": "dialog-5",
                                  "name": "hide",
                                  "description": "Close dialog",
                                  "condition": "",
                                  "argument": ""
                                }
                              ]
                            }
                          ],
                          "block": true,
                          "variant": "primary",
                          "icon": "check"
                        }
                      ],
                      "defaultValue": "={}",
                      "eventHandlers": [],
                      "dataSource": "$parent",
                      "hidden": null
                    },
                    "eventHandlers": [],
                    "size": "lg",
                    "hidden": null
                  }
                ],
                "defaultValue": "={}",
                "eventHandlers": []
              }
            ],
            "defaultValue": "={}",
            "eventHandlers": [],
            "hidden": false,
            "dataSource": "=$d('myapps-storage')\n    .find(app => app.id === $d('shared').appId)",
            "fillHeight": null,
            "layoutKind": "container",
            "class": "py-3"
          },
          "eventHandlers": [],
          "class": "=this.screenWidth <= 800 ? 'p-0' : ''",
          "resizableSplit": true,
          "fillHeight": true,
          "gutterSize": "5",
          "hidden": null
        },
        {
          "cid": "update-project-dialog",
          "type": "DialogView",
          "title": "Update project",
          "content": {
            "cid": "container-112",
            "type": "ContainerView",
            "dataType": "object",
            "layout": "block",
            "components": [
              {
                "cid": "input-59",
                "type": "InputView",
                "dataType": "string",
                "label": "Id",
                "inputType": "text",
                "description": "",
                "field": "id",
                "size": "default",
                "disabled": true,
                "placeholder": "",
                "eventHandlers": [],
                "dataSource": "$parent"
              },
              {
                "cid": "input-60",
                "type": "InputView",
                "dataType": "string",
                "label": "Name",
                "inputType": "text",
                "description": "",
                "field": "name",
                "size": "default",
                "disabled": false,
                "placeholder": "",
                "eventHandlers": [],
                "dataSource": "$parent"
              },
              {
                "cid": "textarea-7",
                "type": "TextareaView",
                "dataType": "string",
                "label": "Description",
                "inputType": "text",
                "description": "",
                "field": "description",
                "size": "default",
                "disabled": false,
                "placeholder": "",
                "eventHandlers": [],
                "dataSource": "$parent"
              },
              {
                "cid": "tags-8",
                "type": "TagsView",
                "dataType": "array",
                "size": "default",
                "eventHandlers": [],
                "label": "Tags",
                "dataSource": "$parent",
                "field": "tags"
              },
              {
                "cid": "image-6",
                "type": "ImageView",
                "src": "=$d(this)?.icon",
                "blank": false,
                "display": "default",
                "layoutClass": "text-center",
                "eventHandlers": [],
                "dataSource": "$parent",
                "field": "",
                "style": "width: 15rem",
                "hidden": null
              },
              {
                "cid": "button-71",
                "type": "ButtonView",
                "dataSource": "$parent",
                "label": "Upload icon...",
                "buttonType": "button",
                "eventHandlers": [
                  {
                    "global": false,
                    "name": "@click",
                    "actions": [
                      {
                        "targetId": "$tools",
                        "name": "upload",
                        "description": "Default action",
                        "argument": "img => $set($d(this), 'icon', img), 'image', 300 * 1024"
                      }
                    ]
                  }
                ],
                "layoutClass": "text-center m-2",
                "icon": "upload"
              },
              {
                "cid": "button-72",
                "type": "ButtonView",
                "dataSource": "$parent",
                "label": "Update project",
                "buttonType": "button",
                "eventHandlers": [
                  {
                    "global": false,
                    "name": "@click",
                    "actions": [
                      {
                        "targetId": "myapps-storage",
                        "name": "replaceData",
                        "description": "Update collection content",
                        "condition": "",
                        "argument": "$d(this)"
                      },
                      {
                        "targetId": "update-project-dialog",
                        "name": "hide",
                        "description": "Close dialog"
                      }
                    ]
                  }
                ],
                "block": true,
                "variant": "primary",
                "icon": "check"
              }
            ],
            "defaultValue": "={}",
            "eventHandlers": [],
            "dataSource": "$parent"
          },
          "eventHandlers": [],
          "size": "xl"
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "hidden": null,
      "fillHeight": true
    },
    {
      "cid": "samples",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "container-97",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "pagination-11",
              "type": "PaginationView",
              "dataSource": "iterator-7",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@input",
                  "actions": [
                    {
                      "targetId": "iterator-7",
                      "name": "setCurrentPage",
                      "description": "Set page",
                      "argument": "value"
                    }
                  ]
                }
              ],
              "align": "center",
              "size": "sm",
              "pills": true,
              "disabled": null,
              "perPage": "10"
            },
            {
              "cid": "container-98",
              "type": "ContainerView",
              "dataType": "object",
              "layout": "block",
              "components": [
                {
                  "cid": "input-43",
                  "type": "InputView",
                  "dataType": "string",
                  "label": "Search:",
                  "inputType": "search",
                  "description": "",
                  "field": "",
                  "size": "sm",
                  "disabled": false,
                  "placeholder": "",
                  "eventHandlers": [],
                  "horizontalLayout": true,
                  "style": "",
                  "class": "",
                  "layoutStyle": "width: 30rem"
                },
                {
                  "cid": "select-4",
                  "type": "SelectView",
                  "label": "By status:",
                  "size": "sm",
                  "description": "",
                  "field": "",
                  "disabled": false,
                  "options": "[\"All\", \"Activated\", \"Not activated\"]",
                  "eventHandlers": [],
                  "horizontalLayout": true,
                  "defaultValue": "All"
                }
              ],
              "defaultValue": "={}",
              "dataSource": "$parent",
              "eventHandlers": [],
              "direction": "row",
              "justify": "center"
            },
            {
              "cid": "iterator-7",
              "type": "IteratorView",
              "dataType": "array",
              "defaultValue": "=[]",
              "body": {
                "cid": "card-14",
                "type": "CardView",
                "title": "",
                "subTitle": "",
                "imgSrc": "=if ($d(this).icon)\n    return $d(this).icon \n    else return basePath + 'assets/app-icons/no_image.png'\n",
                "imgPosition": "top",
                "imgWidth": "",
                "imgHeight": "",
                "text": "",
                "headerEnabled": true,
                "header": {
                  "cid": "container-99",
                  "type": "ContainerView",
                  "dataType": "object",
                  "layout": "block",
                  "components": [
                    {
                      "cid": "text-42",
                      "type": "TextView",
                      "dataType": "string",
                      "tag": "div",
                      "text": "",
                      "eventHandlers": [],
                      "dataSource": "$parent",
                      "field": "name"
                    }
                  ],
                  "defaultValue": "={}",
                  "eventHandlers": [],
                  "direction": "row",
                  "justify": "space-between",
                  "dataSource": "$parent",
                  "disableContainerPadding": true,
                  "alignItems": "center"
                },
                "body": {
                  "cid": "container-100",
                  "type": "ContainerView",
                  "dataType": "object",
                  "layout": "block",
                  "components": [
                    {
                      "cid": "text-43",
                      "type": "TextView",
                      "dataType": "string",
                      "tag": "div",
                      "text": "",
                      "eventHandlers": [],
                      "dataSource": "$parent",
                      "field": "description"
                    }
                  ],
                  "defaultValue": "={}",
                  "eventHandlers": [],
                  "dataSource": "$parent",
                  "disableContainerPadding": true
                },
                "footer": {},
                "eventHandlers": [
                  {
                    "global": false,
                    "name": "@click",
                    "actions": [
                      {
                        "targetId": "shared",
                        "name": "selectApplication",
                        "description": "Select",
                        "argument": "$d(this).id === $d('shared').appId ? undefined : $d(this).id",
                        "condition": ""
                      }
                    ]
                  }
                ],
                "dataSource": "$parent",
                "layoutStyle": "width: 15rem",
                "class": "=$d('shared').appId === $d(this).id ? \n    'border-3' : ''",
                "style": "cursor: pointer ",
                "hidden": null,
                "fillHeight": null,
                "bgVariant": "=if ($d('shared').appId === $d(this).id) \n    return 'primary' \n    else return ''",
                "borderVariant": "=$d('shared').appId === $d(this).id ? \n    'primary' : ''",
                "textVariant": "=if ($d('shared').appId === $d(this).id) \n    return 'light' \n    else return ''"
              },
              "eventHandlers": [],
              "dataSource": "=$d(`appstore-storage`)\n    .filter(app => \n        (\n            !$d('input-43') \n            || app.name.toLowerCase().includes($d('input-43').toLowerCase())\n        )\n        &&\n        (\n            app.tags?.includes('sample')\n        )\n    )",
              "disableContainerPadding": true,
              "wrap": "wrap",
              "direction": "row",
              "rowGap": "1rem",
              "columnGap": "1rem",
              "perPage": "10",
              "justify": "center",
              "fillHeight": null,
              "hidden": null
            }
          ],
          "defaultValue": "={}",
          "eventHandlers": [],
          "class": "py-3",
          "fillHeight": true,
          "disableContainerPadding": null,
          "layoutKind": "container-fluid",
          "hidden": null
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": []
    },
    {
      "cid": "bundle",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [
        {
          "cid": "container-107",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "button-69",
              "type": "ButtonView",
              "dataSource": "$parent",
              "label": "<< Back to applications",
              "buttonType": "button",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@click",
                  "actions": [
                    {
                      "targetId": "navbar",
                      "name": "back",
                      "condition": ""
                    }
                  ]
                }
              ],
              "icon": "",
              "layoutStyle": "",
              "class": "",
              "layoutClass": "mb-3"
            },
            {
              "cid": "text-47",
              "type": "TextView",
              "dataType": "string",
              "tag": "h1",
              "text": "=`Bundle and deploy your application (id: ${$d('shared').appId.split('-')[0]})`",
              "eventHandlers": [],
              "observeIntersections": null
            },
            {
              "cid": "download-checkbox",
              "type": "CheckboxView",
              "size": "default",
              "switch": true,
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@input",
                  "actions": [
                    {
                      "targetId": "install-doc",
                      "name": "setVisible",
                      "argument": "value"
                    }
                  ]
                }
              ],
              "label": "Create and download a bundle of a standalone WEB application, which you can deploy on your own HTTP server (Apache, Nginx, ...).",
              "horizontalLayout": true,
              "observeIntersections": null
            },
            {
              "cid": "install-doc",
              "type": "TextView",
              "dataType": "string",
              "tag": "alert",
              "text": "### Installation - WEB app\nIn order to install your WEB application on your own server:\n1. Generate and download the bundle, as a zip file (see the button below).\n1. Upload the zip file on your server.\n1. Unzip the content in the document root that corresponds to your domain (the zip contains an index.html file).\n\nNote: to allow authentication, user management, and data synchronization, the target server also requires PHP support (version >= 7.0).",
              "eventHandlers": [],
              "markdown": true,
              "observeIntersections": false,
              "hidden": true
            }
          ],
          "defaultValue": "={}",
          "dataSource": "$parent",
          "eventHandlers": []
        },
        {
          "cid": "bundle-parameters",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "upgrade-checkbox",
              "type": "CheckboxView",
              "size": "default",
              "switch": true,
              "eventHandlers": [],
              "label": "Is it an upgrade bundle?",
              "description": "  Check this if you are generating a bundle to upgrade an already-installed site (in that case, the admin password and data directory are not required)",
              "horizontalLayout": true,
              "field": "upgrade",
              "dataSource": "$parent",
              "disabled": null
            },
            {
              "cid": "text-49",
              "type": "TextView",
              "dataType": "string",
              "tag": "div",
              "text": "=`<div class=\"alert alert-warning\">\n    ${$tools.icon('info-circle')} \n    Upgrade bundles preserve the configuration of the previous version. To allow an upgrade, you must increase the version number of your app.    \n    \n</div>`",
              "eventHandlers": [],
              "hidden": "=!$d(this).upgrade",
              "dataSource": "$parent"
            },
            {
              "cid": "container-110",
              "type": "ContainerView",
              "dataType": "object",
              "layout": "block",
              "components": [
                {
                  "cid": "input-44",
                  "type": "InputView",
                  "dataType": "string",
                  "inputType": "password",
                  "size": "default",
                  "disabled": false,
                  "eventHandlers": [],
                  "label": "Administration password",
                  "description": "The administration login is 'admin', please choose a password for the administration of your application (including user account administration)",
                  "dataSource": "$parent",
                  "field": "adminPassword"
                },
                {
                  "cid": "input-45",
                  "type": "InputView",
                  "dataType": "string",
                  "inputType": "text",
                  "size": "default",
                  "disabled": false,
                  "eventHandlers": [],
                  "label": "Data directory",
                  "description": "The directory (absolute path) where the application will store data on the server (must be read/write accessible by your Web server)",
                  "dataSource": "$parent",
                  "field": "dataDirectory",
                  "hidden": "=!$d('download-checkbox')"
                },
                {
                  "cid": "checkbox-10",
                  "type": "CheckboxView",
                  "size": "default",
                  "switch": true,
                  "eventHandlers": [],
                  "disabled": null,
                  "label": "=$d('download-checkbox') ? \n    'Use OAuth 2.0 for authentication' :\n    'Enable OAuth 2.0 authentication'",
                  "description": "=$d('download-checkbox') ?\n    'Check this if you want to replace the default built-in authentication with Keycloak (you will need a Keycloak server available)' :\n    'If not checked, your application will not require authentication to be used'",
                  "dataSource": "$parent",
                  "field": "keycloak",
                  "hidden": "=$d(parent).upgrade"
                },
                {
                  "cid": "card-15",
                  "type": "CardView",
                  "imgPosition": "top",
                  "header": {
                    "cid": "container-109",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "text-50",
                        "type": "TextView",
                        "dataType": "string",
                        "tag": "div",
                        "text": "OAuth 2.0 configuration",
                        "eventHandlers": []
                      },
                      {
                        "cid": "button-70",
                        "type": "ButtonView",
                        "dataSource": "$parent",
                        "label": "Reset to default",
                        "buttonType": "button",
                        "eventHandlers": [
                          {
                            "global": false,
                            "name": "@click",
                            "actions": [
                              {
                                "targetId": "$self",
                                "name": "eval",
                                "argument": "$c('bundle-parameters').setFieldData(\"keycloakUrl\", \"https://sso.dlite.io/auth\"),\n$c('bundle-parameters').setFieldData(\"keycloakRealm\", \"elite\"),\n$c('bundle-parameters').setFieldData(\"keycloakClientId\", \"dlite-app-client\")"
                              }
                            ]
                          }
                        ],
                        "icon": "arrow-counterclockwise",
                        "size": "sm"
                      }
                    ],
                    "defaultValue": "={}",
                    "dataSource": "$parent",
                    "eventHandlers": [],
                    "direction": "row",
                    "justify": "space-between"
                  },
                  "body": {
                    "cid": "container-105",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "input-46",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "Keycloak url",
                        "description": "The OAuth 2.0 server URL",
                        "dataSource": "$parent",
                        "field": "keycloakUrl"
                      },
                      {
                        "cid": "input-47",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "Realm",
                        "description": "The authentication realm to be used",
                        "dataSource": "$parent",
                        "field": "keycloakRealm"
                      },
                      {
                        "cid": "input-48",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "description": "The Keycloak OAuth2 client identifier to be used (must be configured by the OAuth 2.0 provider to match the deployment URL of the app)",
                        "label": "Client ID",
                        "dataSource": "$parent",
                        "field": "keycloakClientId"
                      }
                    ],
                    "defaultValue": "={}",
                    "dataSource": "$parent",
                    "eventHandlers": []
                  },
                  "footer": {},
                  "dataSource": "$parent",
                  "dataType": "object",
                  "eventHandlers": [],
                  "headerEnabled": true,
                  "hidden": "=!$d(this).keycloak || $d(this).upgrade",
                  "layoutClass": "mb-3"
                },
                {
                  "cid": "checkbox-11",
                  "type": "CheckboxView",
                  "dataType": "boolean",
                  "size": "default",
                  "switch": true,
                  "eventHandlers": [],
                  "label": "Use LDAP for authentication",
                  "description": "Check this if you are intending to use a LDAP server for authentication (in addition to the built-in authentication)",
                  "dataSource": "$parent",
                  "field": "ldap",
                  "hidden": "=!!$d(parent).keycloak || !$d('download-checkbox')"
                },
                {
                  "cid": "card-16",
                  "type": "CardView",
                  "imgPosition": "top",
                  "header": {
                    "cid": "text-52",
                    "type": "TextView",
                    "dataType": "string",
                    "tag": "div",
                    "text": "LDAP configuration",
                    "eventHandlers": []
                  },
                  "body": {
                    "cid": "container-106",
                    "type": "ContainerView",
                    "dataType": "object",
                    "layout": "block",
                    "components": [
                      {
                        "cid": "input-49",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "LDAP server",
                        "description": "An IP or accessible name",
                        "dataSource": "$parent",
                        "field": "ldapServer",
                        "defaultValue": "localhost"
                      },
                      {
                        "cid": "input-52",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "LDAP server port",
                        "dataSource": "$parent",
                        "field": "ldapServerPort",
                        "defaultValue": "389"
                      },
                      {
                        "cid": "input-53",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "LDAP protocol version",
                        "dataSource": "$parent",
                        "field": "ldapProtocolVersion",
                        "defaultValue": "3"
                      },
                      {
                        "cid": "input-54",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "LDAP referrals",
                        "dataSource": "$parent",
                        "field": "ldapReferrals",
                        "defaultValue": "0"
                      },
                      {
                        "cid": "input-55",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "LDAP base DN",
                        "description": "The LDAP base DN to be used to authenticate users",
                        "dataSource": "$parent",
                        "field": "ldapBaseDN",
                        "defaultValue": "dc=xxx,dc=yyy"
                      },
                      {
                        "cid": "input-50",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "label": "LDAP admin UID",
                        "description": "The LDAP admin user (mandatory to send emails to other LDAP users)",
                        "dataSource": "$parent",
                        "field": "ldapAdminUID",
                        "defaultValue": "root"
                      },
                      {
                        "cid": "input-51",
                        "type": "InputView",
                        "dataType": "string",
                        "inputType": "text",
                        "size": "default",
                        "disabled": false,
                        "eventHandlers": [],
                        "description": "The LDAP admin user's password (mandatory to send emails to other LDAP users)",
                        "label": "LDAP admin password",
                        "dataSource": "$parent",
                        "field": "ldapAdminPassword"
                      }
                    ],
                    "defaultValue": "={}",
                    "dataSource": "$parent",
                    "eventHandlers": []
                  },
                  "footer": {},
                  "dataSource": "$parent",
                  "dataType": "object",
                  "eventHandlers": [],
                  "headerEnabled": true,
                  "hidden": "=!!$d(this).keycloak || !$d(this).ldap  || !$d('download-checkbox')",
                  "layoutClass": "mb-3"
                }
              ],
              "defaultValue": "={}",
              "dataSource": "$parent",
              "eventHandlers": [],
              "hidden": "=$d(this).upgrade"
            }
          ],
          "defaultValue": "={\n    \"upgrade\": false,\n    \"ldap\": false,    \n    \"ldapServer\": \"localhost\",\n    \"ldapServerPort\": \"389\",\n    \"ldapProtocolVersion\": \"3\",\n    \"ldapReferrals\": \"0\",\n    \"ldapBaseDN\": \"dc=xxx,dc=yyy\",\n    \"ldapAdminUID\": \"root\",\n    \"adminPassword\": \"password\",\n    \"dataDirectory\": \"/DATA\",\n    \"keycloak\": true,\n    \"keycloakUrl\": \"https://sso.dlite.io/auth\",\n    \"keycloakRealm\": \"elite\",\n    \"keycloakClientId\": \"dlite-app-client\"\n}",
          "eventHandlers": [],
          "hidden": false
        },
        {
          "cid": "text-53",
          "type": "TextView",
          "dataType": "string",
          "tag": "alert",
          "text": "=`If you choose \"Deploy in dLite cloud\", your application will be accessible at \n<b><u>https://apps.dlite.io/${$collab.getLoggedUser().email.split('@')[1]+'/'+$d('shared').appId.split('-')[0]}</u></b>`",
          "eventHandlers": [],
          "hidden": "=$d('download-checkbox')"
        },
        {
          "cid": "container-108",
          "type": "ContainerView",
          "dataType": "object",
          "layout": "block",
          "components": [
            {
              "cid": "button-67",
              "type": "ButtonView",
              "dataSource": "$parent",
              "label": "Deploy in dLite cloud",
              "buttonType": "button",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@click",
                  "actions": [
                    {
                      "targetId": "$self",
                      "name": "eval",
                      "argument": "ide.editMode ? false : \n    ide.bundle(\n        $d('appstore-storage')\n            .find(app => app.id === $d('shared').appId),\n        $d('bundle-parameters'),\n        true\n    )",
                      "condition": "confirm('You are about to make your application accessible at https://apps.dlite.io/cincheo.com/121e2b1c. Please make sure that you understand what you are doing before proceeding.')"
                    }
                  ]
                }
              ],
              "icon": "cloud-upload",
              "variant": "danger",
              "disabled": "=!($d('bundle-parameters').upgrade || ($d('bundle-parameters').adminPassword && $d('bundle-parameters').dataDirectory))",
              "hidden": "=$d('download-checkbox')"
            },
            {
              "cid": "button-68",
              "type": "ButtonView",
              "dataSource": "$parent",
              "label": "Download bundle",
              "buttonType": "button",
              "eventHandlers": [
                {
                  "global": false,
                  "name": "@click",
                  "actions": [
                    {
                      "targetId": "$self",
                      "name": "eval",
                      "argument": "ide.editMode ? false : \n    ide.bundle(\n        $d('appstore-storage')\n            .find(app => app.id === $d('shared').appId),\n        $d('bundle-parameters')\n    )"
                    }
                  ]
                }
              ],
              "icon": "file-zip",
              "disabled": "=!($d('bundle-parameters').upgrade || ($d('bundle-parameters').adminPassword && $d('bundle-parameters').dataDirectory))",
              "hidden": "= !$d('download-checkbox') "
            }
          ],
          "defaultValue": "={}",
          "dataSource": "$parent",
          "eventHandlers": [],
          "direction": "row",
          "columnGap": "0.5rem"
        }
      ],
      "defaultValue": "={}",
      "eventHandlers": [],
      "layoutKind": "container",
      "layoutClass": "",
      "class": "py-4",
      "form": true
    },
    {
      "cid": "tags-6",
      "type": "TagsView",
      "dataType": "array",
      "size": "sm",
      "eventHandlers": [],
      "dataSource": "$parent",
      "field": "tags",
      "placeholder": "",
      "disabled": true,
      "hidden": "=!$d(this) || $d(this).length === 0",
      "class": "mb-2",
      "horizontalLayout": false
    },
    {
      "cid": "tags-7",
      "type": "TagsView",
      "dataType": "array",
      "size": "default",
      "eventHandlers": [],
      "dataSource": "$parent",
      "field": "tags",
      "placeholder": " ",
      "disabled": true,
      "hidden": "=!$d(this) || $d(this).length === 0",
      "class": "m-1"
    },
    {
      "cid": "container-113",
      "type": "ContainerView",
      "dataType": "object",
      "layout": "block",
      "components": [],
      "defaultValue": "={}",
      "dataSource": "$parent",
      "eventHandlers": []
    },
    {
      "cid": "dialog-01",
      "type": "DialogView",
      "title": "Update project",
      "content": {
        "cid": "container-114",
        "type": "ContainerView",
        "dataType": "object",
        "layout": "block",
        "components": [
          {
            "cid": "input-61",
            "type": "InputView",
            "dataType": "string",
            "label": "Id",
            "inputType": "text",
            "description": "",
            "field": "id",
            "size": "default",
            "disabled": true,
            "placeholder": "",
            "eventHandlers": [],
            "dataSource": "$parent"
          },
          {
            "cid": "input-62",
            "type": "InputView",
            "dataType": "string",
            "label": "Name",
            "inputType": "text",
            "description": "",
            "field": "name",
            "size": "default",
            "disabled": false,
            "placeholder": "",
            "eventHandlers": [],
            "dataSource": "$parent"
          },
          {
            "cid": "textarea-8",
            "type": "TextareaView",
            "dataType": "string",
            "label": "Description",
            "inputType": "text",
            "description": "",
            "field": "description",
            "size": "default",
            "disabled": false,
            "placeholder": "",
            "eventHandlers": [],
            "dataSource": "$parent"
          },
          {
            "cid": "tags-9",
            "type": "TagsView",
            "dataType": "array",
            "size": "default",
            "eventHandlers": [],
            "label": "Tags",
            "dataSource": "$parent",
            "field": "tags"
          },
          {
            "cid": "image-7",
            "type": "ImageView",
            "src": "=$d(this)?.icon",
            "blank": false,
            "display": "default",
            "layoutClass": "text-center",
            "eventHandlers": [],
            "dataSource": "$parent",
            "field": "",
            "style": "width: 15rem",
            "hidden": null
          },
          {
            "cid": "button-73",
            "type": "ButtonView",
            "dataSource": "$parent",
            "label": "Upload icon...",
            "buttonType": "button",
            "eventHandlers": [
              {
                "global": false,
                "name": "@click",
                "actions": [
                  {
                    "targetId": "$tools",
                    "name": "upload",
                    "description": "Default action",
                    "argument": "img => $set($d(this), 'icon', img), 'image', 300 * 1024"
                  }
                ]
              }
            ],
            "layoutClass": "text-center m-2",
            "icon": "upload"
          },
          {
            "cid": "button-74",
            "type": "ButtonView",
            "dataSource": "$parent",
            "label": "Update project",
            "buttonType": "button",
            "eventHandlers": [
              {
                "global": false,
                "name": "@click",
                "actions": [
                  {
                    "targetId": "myapps-storage",
                    "name": "replaceData",
                    "description": "Update collection content",
                    "condition": "",
                    "argument": "$d(this)"
                  },
                  {
                    "targetId": "dialog-01",
                    "name": "hide",
                    "description": "Close dialog"
                  }
                ]
              }
            ],
            "block": true,
            "variant": "primary",
            "icon": "check"
          }
        ],
        "defaultValue": "={}",
        "eventHandlers": [],
        "dataSource": "$object"
      },
      "eventHandlers": [],
      "size": "xl"
    }
  ]
}